(this.webpackJsonpwebmga=this.webpackJsonpwebmga||[]).push([[0],{361:function(e,t,s){"use strict";s.r(t);var a=s(2),i=s(1),n=s.n(i),r=s(53),l=s.n(r),o=s(6),c=s(9),h=s(10),u=s(11),d=(s(136),s(371)),p=s(388),b=s(12),j=s(19),g=s(4),O=s(180),m=s(36),f=s(46),v=function(){function e(){Object(o.a)(this,e),this.levels=2,this.stripGeometries=[],this.fanGeometries=[],this.args=arguments[0],this.isPreset=!1,this.LOD=1,this.complexity=[6,12,18,24,32]}return Object(c.a)(e,[{key:"clear",value:function(){this.presetGeometry=[],this.stripGeometries=[],this.fanGeometries=[]}},{key:"addGeometry",value:function(e,t,s){var a=new g.e;a.setAttribute("position",new g.d(Float32Array.from(e),3)),a.setAttribute("normal",new g.d(Float32Array.from(t),3)),0==s.localeCompare("strip")?(a=f.a.toTrianglesDrawMode(a,g.H),this.stripGeometries.push(a)):(a=f.a.toTrianglesDrawMode(a,g.G),this.fanGeometries.push(a))}},{key:"mergeGeometries",value:function(){this.stripGeometry=f.a.mergeBufferGeometries(this.stripGeometries)}}],[{key:"normalize",value:function(e,t){void 0!=t&&(e[0]/=Math.pow(t[0],2),e[1]/=Math.pow(t[1],2),e[2]/=Math.pow(t[2],2));var s=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return e=e.map((function(e){return e/s}))}}]),e}(),y=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e,a){var i;return Object(o.a)(this,s),(i=t.call(this)).isPreset=!0,i.type=e,i.parameters=a,i}return Object(c.a)(s,[{key:"generate",value:function(){switch(this.clear(),this.type){case"Sphere":this.presetGeometry=new g.C(this.parameters,this.complexity[this.LOD],this.complexity[this.LOD]);break;case"Cone":this.presetGeometry=Object(m.a)(g.g,Object(b.a)(this.parameters).concat([this.complexity[this.LOD]]));break;case"Cylinder":this.presetGeometry=Object(m.a)(g.h,Object(b.a)(this.parameters).concat([this.complexity[this.LOD]]));break;case"Torus":this.presetGeometry=Object(m.a)(g.F,Object(b.a)(this.parameters).concat([this.complexity[this.LOD]]))}}}]),s}(v),x=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.call(this,arguments)}return Object(c.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e,t,s,a,i=[],n=[],r=this.args,l=[],o=[],c=[],h=0;h<this.levels;++h){i.push(this.complexity[this.LOD]+h*-this.complexity[this.LOD]/(this.levels-1)),i.push(this.complexity[this.LOD]+h*-this.complexity[this.LOD]/(this.levels-1)),n.push(2*Math.PI/i[0]),n.push(Math.PI/(2*(i[1]+1)));for(var u=0;u<2*i[1];++u)for(var d=0;d<i[0]+1;++d){var p,j,g,O;0==d||d==i[0]?(c.push(-r[0]*Math.sin((u+1)*n[1])),c.push(0)):(c.push(-Math.cos(d*n[0])*r[0]*Math.sin((u+1)*n[1])),c.push(-Math.sin(d*n[0])*r[1]*Math.sin((u+1)*n[1]))),c.push(Math.cos((u+1)*n[1])*r[2]),(p=l).push.apply(p,Object(b.a)(c)),(j=o).push.apply(j,Object(b.a)(v.normalize(c,r))),c=[],0==d||d==i[0]?(c.push(-r[0]*Math.sin((u+2)*n[1])),c.push(0)):(c.push(-Math.cos(d*n[0])*r[0]*Math.sin((u+2)*n[1])),c.push(-Math.sin(d*n[0])*r[1]*Math.sin((u+2)*n[1]))),c.push(Math.cos((u+2)*n[1])*r[2]),(g=l).push.apply(g,Object(b.a)(c)),(O=o).push.apply(O,Object(b.a)(v.normalize(c,r))),c=[]}}this.addGeometry(l,o,"strip"),l=[],o=[],c.push(0),c.push(0),c.push(r[2]),(e=l).push.apply(e,Object(b.a)(c)),(t=o).push.apply(t,Object(b.a)(v.normalize(c,r))),c=[];for(d=0;d<i[0]+1;++d){var m,f;0==d||d==i[0]?(c.push(-r[0]*Math.sin(n[1])),c.push(0)):(c.push(-Math.cos(d*n[0])*r[0]*Math.sin(n[1])),c.push(-Math.sin(d*n[0])*r[1]*Math.sin(n[1]))),c.push(Math.cos(n[1])*r[2]),(m=l).push.apply(m,Object(b.a)(c)),(f=o).push.apply(f,Object(b.a)(v.normalize(c,r))),c=[]}this.addGeometry(l,o,"fan"),l=[],o=[],c.push(0),c.push(0),c.push(-r[2]),(s=l).push.apply(s,Object(b.a)(c)),(a=o).push.apply(a,Object(b.a)(v.normalize(c,r))),c=[];for(d=i[0];d>=0;--d){var y,x;0==d||d==i[0]?(c.push(-r[0]*Math.sin(n[1])),c.push(0)):(c.push(-Math.cos(d*n[0])*r[0]*Math.sin(n[1])),c.push(-Math.sin(d*n[0])*r[1]*Math.sin(n[1]))),c.push(-Math.cos(n[1])*r[2]),(y=l).push.apply(y,Object(b.a)(c)),(x=o).push.apply(x,Object(b.a)(v.normalize(c,r))),c=[]}this.addGeometry(l,o,"fan")}}]),s}(v),S=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.call(this,arguments)}return Object(c.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e,t,s=[],a=[],i=this.args[0],n=this.args[1],r=[],l=0;l<this.levels;++l){var o,c,h,u;s.push(this.complexity[this.LOD]+l*-this.complexity[this.LOD]/(this.levels-1)),s.push(s[0]/4),a.push(2*Math.PI/s[0]),a.push(2*Math.PI/(4*s[1]));for(var d=0;d<s[1]-1;++d){e=[],t=[];for(var p=0;p<=s[0];++p){var j,g,O,m;0==p||p==s[0]?(r.push(-Math.sin((d+1)*a[1])*i),r.push(0)):(r.push(-Math.cos(p*a[0])*Math.sin((d+1)*a[1])*i),r.push(-Math.sin(p*a[0])*Math.sin((d+1)*a[1])*i)),r.push(Math.cos((d+1)*a[1])*i),(j=t).push.apply(j,Object(b.a)(v.normalize(r))),r[2]+=n/2,(g=e).push.apply(g,Object(b.a)(r)),r=[],0==p||p==s[0]?(r.push(-Math.sin((d+2)*a[1])*i),r.push(0)):(r.push(-Math.cos(p*a[0])*Math.sin((d+2)*a[1])*i),r.push(-Math.sin(p*a[0])*Math.sin((d+2)*a[1])*i)),r.push(Math.cos((d+2)*a[1])*i),(O=t).push.apply(O,Object(b.a)(v.normalize(r))),r[2]+=n/2,(m=e).push.apply(m,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"strip")}for(var f=s[1]-1;f<2*(s[1]-1);++f){e=[],t=[];for(var y=0;y<=s[0];++y){var x,S,k,w;0==y||y==s[0]?(r.push(-Math.sin((f+1)*a[1])*i),r.push(0)):(r.push(-Math.cos(y*a[0])*Math.sin((f+1)*a[1])*i),r.push(-Math.sin(y*a[0])*Math.sin((f+1)*a[1])*i)),r.push(Math.cos((f+1)*a[1])*i),(x=t).push.apply(x,Object(b.a)(v.normalize(r))),r[2]-=n/2,(S=e).push.apply(S,Object(b.a)(r)),r=[],0==y||y==s[0]?(r.push(-1*Math.sin((f+2)*a[1])*i),r.push(0)):(r.push(-Math.cos(y*a[0])*Math.sin((f+2)*a[1])*i),r.push(-Math.sin(y*a[0])*Math.sin((f+2)*a[1])*i)),r.push(Math.cos((f+2)*a[1])*i),(k=t).push.apply(k,Object(b.a)(v.normalize(r))),r[2]-=n/2,(w=e).push.apply(w,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"strip")}t=[],e=[];for(var C=0;C<=s[0];++C){var M,L,G,D;0==C||C==s[0]?(r.push(-i),r.push(0)):(r.push(-Math.cos(C*a[0])*i),r.push(-Math.sin(C*a[0])*i)),r.push(0),(M=t).push.apply(M,Object(b.a)(v.normalize(r))),r[2]+=n/2,(L=e).push.apply(L,Object(b.a)(r)),r[2]=0,(G=t).push.apply(G,Object(b.a)(v.normalize(r))),r[2]-=n/2,(D=e).push.apply(D,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"strip"),t=[],e=[],r[0]=0,r[1]=0,r[2]=i,(o=t).push.apply(o,Object(b.a)(v.normalize(r))),r[2]+=n/2,(c=e).push.apply(c,Object(b.a)(r)),r=[];for(var E=0;E<=s[0];++E){var A,I;0==E||E==s[0]?(r.push(-Math.sin(a[1])*i),r.push(0)):(r.push(-Math.cos(E*a[0])*Math.sin(a[1])*i),r.push(-Math.sin(E*a[0])*Math.sin(a[1])*i)),r.push(Math.cos(a[1])*i),(A=t).push.apply(A,Object(b.a)(v.normalize(r))),r[2]+=n/2,(I=e).push.apply(I,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"fan"),t=[],e=[],r[0]=0,r[1]=0,r[2]=-i,(h=t).push.apply(h,Object(b.a)(v.normalize(r))),r[2]-=n/2,(u=e).push.apply(u,Object(b.a)(r)),r=[];for(var z=s[0];z>=0;--z){var P,T;0==z||z==s[0]?(r.push(-Math.sin(a[1])*i),r.push(0)):(r.push(-Math.cos(z*a[0])*Math.sin(a[1])*i),r.push(-Math.sin(z*a[0])*Math.sin(a[1])*i)),r.push(-Math.cos(a[1])*i),(P=t).push.apply(P,Object(b.a)(v.normalize(r))),r[2]-=n/2,(T=e).push.apply(T,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"fan")}}}]),s}(v),k=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.call(this,arguments)}return Object(c.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e=this.args[0],t=this.args[1],s=[0,0,1],a=[0,0,-1],i=0,n=0,r=[],l=[],o=[],c=[],h=[],u=0;u<this.levels;++u){var d,p,j,g;r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),l.push(2*Math.PI/r[0]),l.push(Math.PI/(2*r[1]));for(var O=0;O<2*r[1];++O){i=e*Math.sin(O*l[1]),n=e*Math.sin((O+1)*l[1]);for(var m=0;m<r[0]+1;++m){var f,y,x,S;0==m||m==r[0]?(h.push(-i),h.push(0)):(h.push(-i*Math.cos(m*l[0])),h.push(-i*Math.sin(m*l[0]))),h.push(Math.cos(O*l[1])*e),(f=c).push.apply(f,Object(b.a)(v.normalize(h))),0==m||m==r[0]?h[0]-=t:(h[0]-=t*Math.cos(m*l[0]),h[1]-=t*Math.sin(m*l[0])),(y=o).push.apply(y,Object(b.a)(h)),h=[],0==m||m==r[0]?(h.push(-n),h.push(0)):(h.push(-n*Math.cos(m*l[0])),h.push(-n*Math.sin(m*l[0]))),h.push(Math.cos((O+1)*l[1])*e),(x=c).push.apply(x,Object(b.a)(v.normalize(h))),0==m||m==r[0]?h[0]-=t:(h[0]-=t*Math.cos(m*l[0]),h[1]-=t*Math.sin(m*l[0])),(S=o).push.apply(S,Object(b.a)(h)),h=[]}}this.addGeometry(o,c,"strip"),o=[],c=[],h.push(0),h.push(0),h.push(e),(d=c).push.apply(d,Object(b.a)(v.normalize(h))),(p=o).push.apply(p,Object(b.a)(h)),h=[];for(var k=0;k<r[0]+1;++k){var w,C;0==k||k==r[0]?(h.push(-t),h.push(0)):(h.push(-Math.cos(k*l[0])*t),h.push(-Math.sin(k*l[0])*t)),h.push(e),(w=c).push.apply(w,s),(C=o).push.apply(C,Object(b.a)(h)),h=[]}this.addGeometry(o,c,"fan"),o=[],c=[],h.push(0),h.push(0),h.push(-e),(j=c).push.apply(j,Object(b.a)(v.normalize(h))),(g=o).push.apply(g,Object(b.a)(h)),h=[];for(var M=r[0];M>=0;--M){var L,G;0==M||M==r[0]?(h.push(-t),h.push(0)):(h.push(-Math.cos(M*l[0])*t),h.push(-Math.sin(M*l[0])*t)),h.push(-e),(L=c).push.apply(L,a),(G=o).push.apply(G,Object(b.a)(h)),h=[]}this.addGeometry(o,c,"fan")}}}]),s}(v),w=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.call(this,arguments)}return Object(c.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e=this.args[0],t=this.args[1],s=[0,0,1],a=[0,0,-1],i=Math.acos(t/e),n=e*Math.sin(i),r=[],l=[],o=[],c=[],h=[],u=0;u<this.levels;++u){var d,p,j,g;r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),l.push(2*Math.PI/r[0]),l.push((Math.PI-2*i)/(2*r[1]));for(var O=0;O<2*r[1];++O)for(var m=0;m<r[0]+1;++m){var f,y,x,S;0==m||m==r[0]?(h.push(-e*Math.sin(i+O*l[1])),h.push(0)):(h.push(-Math.cos(m*l[0])*e*Math.sin(i+O*l[1])),h.push(-Math.sin(m*l[0])*e*Math.sin(i+O*l[1]))),h.push(Math.cos(i+O*l[1])*e),(f=c).push.apply(f,Object(b.a)(v.normalize(h))),(y=o).push.apply(y,Object(b.a)(h)),h=[],0==m||m==r[0]?(h.push(-e*Math.sin(i+(O+1)*l[1])),h.push(0)):(h.push(-Math.cos(m*l[0])*e*Math.sin(i+(O+1)*l[1])),h.push(-Math.sin(m*l[0])*e*Math.sin(i+(O+1)*l[1]))),h.push(Math.cos(i+(O+1)*l[1])*e),(x=c).push.apply(x,Object(b.a)(v.normalize(h))),(S=o).push.apply(S,Object(b.a)(h)),h=[]}this.addGeometry(o,c,"strip"),o=[],c=[],h.push(0),h.push(0),h.push(t),(d=c).push.apply(d,Object(b.a)(v.normalize(h))),(p=o).push.apply(p,Object(b.a)(h)),h=[];for(var k=0;k<r[0]+1;++k){var w,C;0==k||k==r[0]?(h.push(-n),h.push(0)):(h.push(-Math.cos(k*l[0])*n),h.push(-Math.sin(k*l[0])*n)),h.push(t),(w=c).push.apply(w,s),(C=o).push.apply(C,Object(b.a)(h)),h=[]}this.addGeometry(o,c,"fan"),o=[],c=[],h.push(0),h.push(0),h.push(-t),(j=c).push.apply(j,Object(b.a)(v.normalize(h))),(g=o).push.apply(g,Object(b.a)(h)),h=[];for(var M=r[0];M>=0;--M){var L,G;0==M||M==r[0]?(h.push(-n),h.push(0)):(h.push(-Math.cos(M*l[0])*n),h.push(-Math.sin(M*l[0])*n)),h.push(-t),(L=c).push.apply(L,a),(G=o).push.apply(G,Object(b.a)(h)),h=[]}this.addGeometry(o,c,"fan")}}}]),s}(v),C={Ellipsoid:{names:["X","Y","Z"],vals:[.5,.2,.2],lod:[6,10,14,20,30]},Spherocylinder:{names:["Radius","Length"],vals:[.5,.75],lod:[8,12,16,22,30]},Spheroplatelet:{names:["RadSphere","RadCircle"],vals:[1,.2],lod:[6,12,18,24,32]},CutSphere:{names:["Radius","zCut"],vals:[.8,.2],lod:[6,12,14,20,30]},Sphere:{names:["Radius"],vals:[.6],lod:[6,12,4,5,6]},Cone:{names:["Radius","Height"],vals:[.8,1.2],lod:[6,12,4,5,6]},Cylinder:{names:["RadiusTop","RadiusBottom","Height"],vals:[.5,.5,2],lod:[6,12,4,5,6]},Torus:{names:["Radius","Tube","Arc"],vals:[1,.3,6.3],lod:[6,12,4,5,6]}},M=function(){function e(t,s,a,i,n){Object(o.a)(this,e),this.elements=[],this.meshes=[],this.Element=function(){function e(t,s,a){Object(o.a)(this,e),this.colour=t,this.position=s,this.euler=a}return Object(c.a)(e,[{key:"getColour",value:function(){return E.rgbToHex(this.colour[0],this.colour[1],this.colour[2])}},{key:"setGeometries",value:function(e){this.geometries=e}}]),e}(),this.name=t,this.orientationType=s,this.clippingPlanes=i,this.clipIntersection=n,this.setDefaults(),this.genElements(a),this.setElements(),this.genMeshes()}return Object(c.a)(e,[{key:"updateSlicers",value:function(e,t){this.clippingPlanes[2*e+1].constant=t[1],this.clippingPlanes[2*e].constant=-t[0]}},{key:"toggleClipIntersection",value:function(e){this.clipIntersection=e;var t,s=Object(j.a)(this.meshes);try{for(s.s();!(t=s.n()).done;){t.value.material.clipIntersection=e}}catch(a){s.e(a)}finally{s.f()}}},{key:"genMeshes",value:function(){var e,t,s,a,i=Object(j.a)(this.elements);try{for(i.s();!(a=i.n()).done;){var n=a.value;t=this.colourByDirector?new g.f(n.getColour()):this.userColour,(s=new g.u({color:t,side:g.j,clippingPlanes:this.clippingPlanes,clipIntersection:this.clipIntersection})).wireframe=this.wireframe,s.shininess=this.shininess;var r,l=Object(j.a)(n.geometries);try{for(l.s();!(r=l.n()).done;){var o=r.value;e=new g.s(o,s),this.meshes.push(e)}}catch(c){l.e(c)}finally{l.f()}}}catch(c){i.e(c)}finally{i.f()}}},{key:"setUserColour",value:function(e){this.userColour=new g.f(e)}},{key:"setElements",value:function(){var e,t=[],s=Object(j.a)(this.elements);try{for(s.s();!(e=s.n()).done;){var a=e.value;this.shape.isPreset?t.push(this.shape.presetGeometry.clone()):(t.push(this.shape.stripGeometry.clone()),t.push(this.shape.fanGeometries[0].clone()),t.push(this.shape.fanGeometries[1].clone())),this.translate(a.position,t),this.rotate(a.euler,t),a.setGeometries(t),t=[]}}catch(i){s.e(i)}finally{s.f()}}},{key:"genElements",value:function(e){var t,s,a,i,n,r,l=[],o=[],c=Object(j.a)(e);try{for(c.s();!(r=c.n()).done;){a=r.value.split(" ");var h,u=Object(j.a)(a);try{for(u.s();!(h=u.n()).done;){var d=h.value;l.push(parseFloat(d))}}catch(p){u.e(p)}finally{u.f()}if(a=l,l=[],console.log(a.length),7!=a.length)break;t=a.slice(0,3),s=a.slice(3),i=this.getRotations(this.orientationType,s),o=this.colourFromOrientation(i),n=new this.Element(o,t,i),this.elements.push(n)}}catch(p){c.e(p)}finally{c.f()}}},{key:"setDefaults",value:function(){this.userColour=new g.f("#FFFFFF"),this.colourByDirector=!0,this.wireframe=!0,this.shininess=30,this.lod=4,this.type="Ellipsoid",this.parameters=C.Ellipsoid.vals,this.genGeometries()}},{key:"genGeometries",value:function(){switch(this.type){case"Ellipsoid":this.shape=Object(m.a)(x,Object(b.a)(this.parameters));break;case"Spherocylinder":this.shape=Object(m.a)(S,Object(b.a)(this.parameters));break;case"Spheroplatelet":this.shape=Object(m.a)(k,Object(b.a)(this.parameters));break;case"Cut Sphere":this.shape=Object(m.a)(w,Object(b.a)(this.parameters));break;case"Sphere":this.shape=new y("Sphere",this.parameters);break;case"Cone":this.shape=new y("Cone",this.parameters);break;case"Cylinder":this.shape=new y("Cylinder",this.parameters);break;case"Torus":this.shape=new y("Torus",this.parameters)}this.shape.LOD=this.lod,this.shape.generate()}},{key:"translate",value:function(e,t){var s,a=Object(j.a)(t);try{for(a.s();!(s=a.n()).done;){s.value.translate(e[0],e[1],e[2])}}catch(i){a.e(i)}finally{a.f()}}},{key:"rotate",value:function(e,t){var s,a=Object(j.a)(t);try{for(a.s();!(s=a.n()).done;){var i=s.value;i.rotateX(e.x),i.rotateY(e.y),i.rotateZ(e.z)}}catch(n){a.e(n)}finally{a.f()}}},{key:"colourFromOrientation",value:function(e){var t=[];return t.push(Math.round((e._x+Math.PI)/(2*Math.PI)*255)),t.push(Math.round((e._y+Math.PI)/(2*Math.PI)*255)),t.push(Math.round((e._z+Math.PI)/(2*Math.PI)*255)),t}},{key:"getRotations",value:function(e,t){var s=new g.A,a=new g.k;switch(e){case"v":var i=new g.K(0,0,1);s.setFromUnitVectors(i,new g.K(t[0],t[1],t[2])),a.setFromQuaternion(s);break;case"q":s.fromArray(t),a.setFromQuaternion(s);break;case"a":s.setFromAxisAngle(new g.K(t[0],t[1],t[2]),t[3]),a.setFromQuaternion(s);break;case"e":a.fromArray(t)}return a}}]),e}(),L=function(){function e(t){Object(o.a)(this,e),this.setDefaultLights(t)}return Object(c.a)(e,[{key:"updatePosition",value:function(e,t,s){this.light.position.set(e,t,s)}},{key:"updateColour",value:function(e,t){this.light.color.setHex(parseInt(e.substring(1),16)),this.light.intensity=.01*t}},{key:"setDefaultLights",value:function(e){switch(e){case"ambient":this.light=new g.a("#0ff0ff",.4);break;case"directional":this.light=new g.i("#ffffff",.5),this.light.position.set(-5,0,-5);break;case"point":this.light=new g.z("#ffffff",.6),this.light.position.set(5,0,5)}}}]),e}();L.AMBIENT=0,L.DIRECTIONAL=1,L.POINT=2;var G=L,D=function(){function e(t,s){Object(o.a)(this,e),this.axes=[],this.size=t,this.colour=s,this.material=new g.q({color:this.colour,linewidth:3}),this.genAxes(),this.genSubgrid(),this.boundingShapeType="box",this.setsGeometry=null}return Object(c.a)(e,[{key:"genBoundingShape",value:function(e,t){if(this.boundingShape=null,null==this.setsGeometry){var s,a=[],i=Object(j.a)(t);try{for(i.s();!(s=i.n()).done;){var n,r=s.value,l=Object(j.a)(r.elements);try{for(l.s();!(n=l.n()).done;){var o=n.value;a.push(f.a.mergeBufferGeometries(o.geometries))}}catch(p){l.e(p)}finally{l.f()}}}catch(p){i.e(p)}finally{i.f()}this.setsGeometry=f.a.mergeBufferGeometries(a)}switch(e){case"box":var c=new g.b;this.setsGeometry.computeBoundingBox(),c.copy(this.setsGeometry.boundingBox),this.boundingShape=new g.c(c,16776960);break;case"sphere":this.setsGeometry.computeBoundingSphere();var h=this.setsGeometry.boundingSphere;console.log(h);var u=new g.C(h.radius,10,10);u.translate(h.center.x,h.center.y,h.center.z);var d=new g.t({color:16776960});d.wireframe=!0,this.boundingShape=new g.s(u,d)}return this.boundingShape}},{key:"updateColour",value:function(e){this.colour=e,this.material=new g.q({color:this.colour,linewidth:3}),this.genAxes(),this.genSubgrid()}},{key:"updateSize",value:function(e){this.size=e,this.genAxes(),this.genSubgrid()}},{key:"genSubgrid",value:function(){this.subGrid=new g.m(this.size,this.size,this.colour,this.colour)}},{key:"genAxes",value:function(){this.axes=[];var e=this.size/2;this.axes.push(new g.p((new g.e).setFromPoints([new g.K(-e,0,0),new g.K(e,0,0)]),this.material)),this.axes.push(new g.p((new g.e).setFromPoints([new g.K(0,-e,0),new g.K(0,e,0)]),this.material)),this.axes.push(new g.p((new g.e).setFromPoints([new g.K(0,0,-e),new g.K(0,0,e)]),this.material))}}]),e}(),E=function(){function e(){Object(o.a)(this,e),this.sets=[],this.gridEnabled=!1,this.axesEnabled=!1,this.sidebarExpanded=!1,this.cameraType="perspective",this.scene=new g.B,this.setDefault()}return Object(c.a)(e,[{key:"setDefault",value:function(){this.selectedSet=0,this.initClippers(),this.renderer=new g.L({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.localClippingEnabled=!0,this.lookAt=new g.K(0,0,0),this.updateDimensions(),this.setCamera(this.cameraType),this.lighting=[new G("ambient"),new G("directional"),new G("point")],this.tools=new D(50,16777215),this.bgColour="#000000",this.renderer.setClearColor(this.bgColour);var e,t=Object(j.a)(this.lighting);try{for(t.s();!(e=t.n()).done;){var s=e.value;this.scene.add(s.light)}}catch(a){t.e(a)}finally{t.f()}this.scene.add(this.camera)}},{key:"setsToJSON",value:function(){var e,t=[],s=Object(j.a)(this.sets);try{for(s.s();!(e=s.n()).done;){var a=e.value;t.push(JSON.stringify(a))}}catch(i){s.e(i)}finally{s.f()}return t}},{key:"update",value:function(){this.controls.update(),this.renderer.render(this.scene,this.camera)}},{key:"initClippers",value:function(){this.clippingIntersections=!1,this.clippingPlanes=[new g.x(new g.K(1,0,0),50),new g.x(new g.K(-1,0,0),50),new g.x(new g.K(0,1,0),50),new g.x(new g.K(0,-1,0),50),new g.x(new g.K(0,0,1),50),new g.x(new g.K(0,0,-1),50)],this.clippingHelpers=[new g.y(this.clippingPlanes[0],100,16711680),new g.y(this.clippingPlanes[1],100,16711680),new g.y(this.clippingPlanes[2],100,65280),new g.y(this.clippingPlanes[3],100,65280),new g.y(this.clippingPlanes[4],100,255),new g.y(this.clippingPlanes[5],100,255)];var e,t=Object(j.a)(this.clippingHelpers);try{for(t.s();!(e=t.n()).done;){var s=e.value;s.visible=!1,this.scene.add(s)}}catch(a){t.e(a)}finally{t.f()}}},{key:"toggleClipIntersection",value:function(e){var t,s=Object(j.a)(this.sets);try{for(s.s();!(t=s.n()).done;){t.value.toggleClipIntersection(e)}}catch(a){s.e(a)}finally{s.f()}}},{key:"toggleHelper",value:function(e,t){this.clippingHelpers[2*e].visible=t,this.clippingHelpers[2*e+1].visible=t}},{key:"updateSlicer",value:function(e,t){var s,a=Object(j.a)(this.sets);try{for(a.s();!(s=a.n()).done;){s.value.updateSlicers(e,t)}}catch(i){a.e(i)}finally{a.f()}}},{key:"updateDimensions",value:function(){this.height=window.innerHeight-56,this.sidebarExpanded?this.width=window.innerWidth-356:this.width=window.innerWidth-56,this.renderer.setSize(this.width,this.height)}},{key:"setCamera",value:function(e){"perspective"==e?this.camera=new g.w(50,this.width/this.height,.1,1e3):(this.camera=new g.v(this.width/-2,this.width/2,this.height/2,this.height/-2,.01,1e4),this.camera.zoom=10,console.log(this.camera.zoom)),this.camera.position.z=-30,this.controls=new O.a(this.camera,this.renderer.domElement),this.controls.target=this.lookAt}},{key:"updateCamera",value:function(){"perspective"==this.cameraType?this.camera.aspect=this.width/this.height:(this.camera.left=this.width/-2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=this.height/2),this.camera.updateProjectionMatrix()}},{key:"updateLookAt",value:function(e){this.lookAt=new g.K(e.x,e.y,e.z),this.controls.target=this.lookAt,this.controls.update()}},{key:"toggleSidebar",value:function(){this.sidebarExpanded=!this.sidebarExpanded,this.updateDimensions()}},{key:"updateBg",value:function(t){this.bgColour=e.rgbToHex(t.r,t.g,t.b),this.renderer.setClearColor(this.bgColour)}},{key:"toggleLight",value:function(e,t){this.lighting[e].visible=t}},{key:"updateLight",value:function(t,s){this.lighting[t].updateColour(e.rgbToHex(s.r,s.g,s.b),s.i)}},{key:"updateLightPosition",value:function(e,t){this.lighting[e].updatePosition(t.x,t.y,t.z)}},{key:"updateGridColour",value:function(t){var s=!1,a=!1;this.gridEnabled&&(this.toggleGrid(),s=!0),this.axesEnabled&&(this.toggleAxes(),a=!0);var i=e.rgbToHex(t.r,t.g,t.b);this.tools.updateColour(i),s&&this.toggleGrid(),a&&this.toggleAxes()}},{key:"updateGridSize",value:function(e){var t=!1,s=!1;this.gridEnabled&&(this.toggleGrid(),t=!0),this.axesEnabled&&(this.toggleAxes(),s=!0),this.tools.updateSize(e),t&&this.toggleGrid(),s&&this.toggleAxes()}},{key:"toggleGrid",value:function(){this.gridEnabled=!this.gridEnabled,this.gridEnabled?this.scene.add(this.tools.subGrid):this.scene.remove(this.tools.subGrid)}},{key:"toggleAxes",value:function(){if(this.axesEnabled=!this.axesEnabled,this.axesEnabled){var e,t=Object(j.a)(this.tools.axes);try{for(t.s();!(e=t.n()).done;){var s=e.value;this.scene.add(s)}}catch(r){t.e(r)}finally{t.f()}}else{var a,i=Object(j.a)(this.tools.axes);try{for(i.s();!(a=i.n()).done;){var n=a.value;this.scene.remove(n)}}catch(r){i.e(r)}finally{i.f()}}}},{key:"toggleCameraRotation",value:function(){this.controls.autoRotate=!this.controls.autoRotate}},{key:"updateBoundingShape",value:function(e,t){this.scene.remove(this.tools.boundingShape),t&&this.scene.add(this.tools.genBoundingShape(e,this.sets))}},{key:"getParameters",value:function(e){var t;switch(e){case"Ellipsoid":t=C.Ellipsoid;break;case"Spherocylinder":t=C.Spherocylinder;break;case"Spheroplatelet":t=C.Spheroplatelet;break;case"Cut Sphere":t=C.CutSphere;break;case"Sphere":t=C.Sphere;break;case"Cone":t=C.Cone;break;case"Cylinder":t=C.Cylinder;break;case"Torus":t=C.Torus}return t}},{key:"updateModel",value:function(e,t,s){var a,i=Object(j.a)(this.sets[e].meshes);try{for(i.s();!(a=i.n()).done;){var n=a.value;this.scene.remove(n)}}catch(c){i.e(c)}finally{i.f()}s.apply(void 0,Object(b.a)(t));var r,l=Object(j.a)(this.sets[e].meshes);try{for(l.s();!(r=l.n()).done;){var o=r.value;this.scene.add(o)}}catch(c){l.e(c)}finally{l.f()}}},{key:"updateLOD",value:function(e){for(var t=this,s=0;s<this.sets.length;s++)this.updateModel(s,[s,e],(function(e,s){t.sets[e].lod=s,t.sets[e].meshes=[],t.sets[e].genGeometries(),t.sets[e].setElements(),t.sets[e].genMeshes()}))}},{key:"updateUserColour",value:function(t,s){var a=this;this.updateModel(t,[t,s],(function(t,s){a.sets[t].meshes=[],a.sets[t].setUserColour(e.rgbToHex(s.r,s.g,s.b)),a.sets[t].genMeshes()}))}},{key:"updateShape",value:function(e,t,s){var a=this;this.updateModel(t,[t,e,s],(function(e,t,s){a.sets[e].meshes=[],a.sets[e].type=t,a.sets[e].parameters=s.vals,a.sets[e].genGeometries(),a.sets[e].setElements(),a.sets[e].genMeshes()}))}},{key:"updateShininess",value:function(e,t){var s=this;this.updateModel(e,[e,t],(function(e,t){s.sets[e].meshes=[],s.sets[e].shininess=t,s.sets[e].genMeshes()}))}},{key:"toggleWireframe",value:function(e,t){var s=this;this.updateModel(e,[e,t],(function(e,t){s.sets[e].meshes=[],s.sets[e].wireframe=t,s.sets[e].genMeshes()}))}},{key:"toggleUserColour",value:function(e,t){var s=this;this.updateModel(e,[e,t],(function(e,t){s.sets[e].meshes=[],s.sets[e].colourByDirector=t,s.sets[e].genMeshes()}))}},{key:"load",value:function(e){var t,s,a,i=e.split("$"),n=Object(j.a)(i);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(""==r)return;t=r.split("\n"),s=new M(t[0],t[1],t.slice(2),this.clippingPlanes,this.clippingIntersections),this.sets.push(s)}}catch(l){n.e(l)}finally{n.f()}this.setConfiguration()}},{key:"setConfiguration",value:function(){var e,t=Object(j.a)(this.sets);try{for(t.s();!(e=t.n()).done;){var s,a=e.value,i=Object(j.a)(a.meshes);try{for(i.s();!(s=i.n()).done;){var n=s.value;this.scene.add(n)}}catch(r){i.e(r)}finally{i.f()}}}catch(r){t.e(r)}finally{t.f()}}}],[{key:"rgbToHex",value:function(e,t,s){function a(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+a(e)+a(t)+a(s)}}]),e}(),A=s(40),I=s(372),z=s(365),P=s(366),T=s(377),B=s(375),H=s(32),F=s(378),N=s(368),R=s(373),V=s(379),K=s(45),J=function(e){var t=Object.assign({},e);return Object(a.jsxs)(I.a,Object(A.a)(Object(A.a)({},t),{},{children:[Object(a.jsxs)(z.a,{controlId:"radioList",children:[Object(a.jsx)(I.a.Item,{children:"Export as..."}),Object(a.jsx)(I.a.Item,{divider:!0}),Object(a.jsxs)(P.a,{name:"radioList",children:[Object(a.jsx)(T.a,{value:"A",children:"Change "}),Object(a.jsx)(T.a,{value:"B",children:"Rectangle"})]}),Object(a.jsx)(I.a.Item,{panel:!0,style:{padding:5,width:140}}),Object(a.jsx)(I.a.Item,{children:"File Type"}),Object(a.jsx)(I.a.Item,{divider:!0}),Object(a.jsxs)(P.a,{name:"radioList",children:[Object(a.jsx)(T.a,{value:"A",children:"PNG"}),Object(a.jsx)(T.a,{value:"B",children:"JPG"})]}),Object(a.jsx)(I.a.Item,{panel:!0,style:{padding:5,width:140}})]}),Object(a.jsx)(B.a,{justify:"center",children:Object(a.jsx)(H.a,{appearance:"primary",onClick:t.f,children:" Export "})}),Object(a.jsx)(I.a.Item,{panel:!0,style:{padding:5,width:140}})]}))},W=function(e){var t=Object.assign({},e);return Object(a.jsxs)(I.a,Object(A.a)(Object(A.a)({},t),{},{children:[Object(a.jsx)(I.a.Item,{children:"File Type"}),Object(a.jsx)(I.a.Item,{divider:!0}),Object(a.jsx)(I.a.Item,{children:"Sample 1"}),Object(a.jsx)(I.a.Item,{children:"Sample 2"}),Object(a.jsx)(I.a.Item,{children:"Sample 3"}),Object(a.jsx)(I.a.Item,{children:"Sample 4"}),Object(a.jsx)(I.a.Item,{panel:!0,style:{padding:5,width:140}}),Object(a.jsx)(B.a,{justify:"center",children:Object(a.jsx)(H.a,{appearance:"primary",children:" Randomize "})}),Object(a.jsx)(I.a.Item,{panel:!0,style:{padding:5,width:140}})]}))},U=function(e){var t=Object.assign({},e);return Object(a.jsx)(F.a,{style:{height:56},children:Object(a.jsx)(N.a,{children:Object(a.jsxs)(N.a.Body,{children:[Object(a.jsx)(R.a,{pullRight:!0,children:Object(a.jsxs)(V.a,{children:[Object(a.jsxs)(R.a.Item,{active:!0,children:["fps ",t.fps]}),Object(a.jsx)(R.a.Item,{appearance:"subtle",icon:Object(a.jsx)(K.a,{icon:"keyboard-o"}),children:"Reference"}),Object(a.jsx)(R.a.Item,{appearance:"subtle",icon:Object(a.jsx)(K.a,{icon:"question"}),children:"Manual"}),Object(a.jsx)(W,{title:"Samples",trigger:"click",placement:"bottomEnd",icon:Object(a.jsx)(K.a,{icon:"folder-o"})}),Object(a.jsx)(J,{title:"Export",trigger:"click",placement:"bottomEnd",icon:Object(a.jsx)(K.a,{icon:"export"}),f:t.functions[2]}),Object(a.jsx)(R.a.Item,{appearance:"subtle",icon:Object(a.jsx)(K.a,{icon:"file-download"}),onSelect:t.functions[0],children:"Save"}),Object(a.jsx)(R.a.Item,{icon:Object(a.jsx)(K.a,{icon:"file-upload"}),onSelect:t.functions[1],children:"Upload"})]})}),Object(a.jsx)(R.a,{pullLeft:!0,children:Object(a.jsx)("h6",{style:{padding:20},children:" WebMGA"})})]})})})},X=s(14),Y=s(189),Z=s(192),q=s(387),Q=s(99),_=s(383),$=s(380),ee=s(381),te=s(376),se=s(384),ae=s(385),ie=s(386),ne=s(187),re=s(370),le=s(47),oe=s(374),ce=s(369),he=s(382),ue=function(e){for(var t=[],s=0;s<e.titles.length;s++)t.push(Object(a.jsx)(de,{title:e.titles[s],values:e.values[s],numerical:!0,f:e.f,index:s}));return t},de=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).active=e.active,a.f=e.f,a.title=e.title,a.values=e.values,a.numerical=e.numerical,a.index=e.index,a.selectingSet=e.selectingSet,a.changeValue=a.changeValue.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"changeValue",value:function(e){this.active=e,this.f(e,this.index)}},{key:"render",value:function(){var e;if(this.numerical){var t=this.values;e=Object(a.jsx)("div",{style:{width:130,marginLeft:10},children:Object(a.jsx)(oe.a,{defaultValue:t,step:.1,onChange:this.changeValue})})}else{var s,i,n=this.values,r=this.active,l=[],o=Object(j.a)(n);try{for(o.s();!(i=o.n()).done;){var c=i.value;s=!r.localeCompare(c),l.push(Object(a.jsx)(I.a.Item,{eventKey:c,active:s,onSelect:this.changeValue,children:c}))}}catch(h){o.e(h)}finally{o.f()}l.push(Object(a.jsx)(I.a.Item,{eventKey:"panel",panel:!0,style:{width:150}})),e=Object(a.jsx)(V.a,{style:{width:10,marginLeft:0},children:Object(a.jsx)(I.a,{style:{width:200},title:this.active,children:l})})}return Object(a.jsx)("div",{children:Object(a.jsxs)($.a,{style:{marginTop:15},children:[Object(a.jsx)(ee.a,{md:10,children:Object(a.jsx)("p",{style:{marginTop:10,marginLeft:30},children:this.title})}),Object(a.jsx)(ee.a,{md:14}),Object(a.jsx)(ee.a,{md:10,children:e})]})})}}]),s}(n.a.Component),pe=function(e){var t=n.a.useState(e.vals),s=Object(le.a)(t,2),i=s[0],r=s[1],l=e.f,o=e.index;return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsxs)($.a,{children:[Object(a.jsx)(ee.a,{md:5,children:Object(a.jsx)("p",{style:{marginTop:10,marginLeft:30},children:e.title})}),Object(a.jsx)(ee.a,{md:1}),Object(a.jsx)(ee.a,{md:16,children:Object(a.jsxs)(ce.a,{children:[Object(a.jsx)(oe.a,{min:-50,max:50,value:i[0],step:.1,onChange:function(e){var t=Object(le.a)(i,2),s=(t[0],t[1]);parseFloat(e)>s||(r([parseFloat(e),s]),l(o,[parseFloat(e),s]))}}),Object(a.jsx)(ce.a.Addon,{children:"to"}),Object(a.jsx)(oe.a,{min:-50,max:50,value:i[1],step:.1,onChange:function(e){var t=Object(le.a)(i,2),s=t[0];t[1];s>parseFloat(e)||(r([s,parseFloat(e)]),l(o,[s,parseFloat(e)]))}})]})})]}),Object(a.jsx)($.a,{children:Object(a.jsx)(ee.a,{md:21,children:Object(a.jsx)(he.a,{min:-50,max:50,progress:!0,style:{marginLeft:35,marginTop:30},value:i,onChange:function(e){r(e),l(o,e)}})})})]})},be=function(e){var t,s=e.f,n=Object(i.useState)(e.val),r=Object(le.a)(n,2),l=r[0],o=r[1],c=Object(i.useState)(!1),h=Object(le.a)(c,2),u=h[0];h[1];t=null==e.type?null:e.type,u=e.disabled;var d=Object(le.a)(e.boundaries,2),p=d[0],b=d[1];return Object(a.jsxs)($.a,{children:[Object(a.jsx)(ee.a,{md:10,children:Object(a.jsx)(re.a,{style:{marginLeft:25,marginTop:16,width:170},value:l,min:p,max:b,disabled:u,onChange:function(e){o(e),s(e,t)}})}),Object(a.jsx)(ee.a,{md:4,children:Object(a.jsx)(oe.a,{style:{marginLeft:80,marginTop:3,marginBottom:3,width:70,height:35},min:p,max:b,value:l,disabled:u,onChange:function(t){o(t),s(t,e.type)}})})]})},je=30,ge={color:"#A4A9A3"},Oe=Object(a.jsx)(Q.a,{children:"Decreasing LOD will increase rendering speed."}),me=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state=Ee.ModelState,a.model=e.model,a.selectShape=a.selectShape.bind(Object(X.a)(a)),a.selectSet=a.selectSet.bind(Object(X.a)(a)),a.updateParameter=a.updateParameter.bind(Object(X.a)(a)),a.toggleWireframe=a.toggleWireframe.bind(Object(X.a)(a)),a.toggleColour=a.toggleColour.bind(Object(X.a)(a)),a.updateShininess=a.updateShininess.bind(Object(X.a)(a)),a.updateUserColour=a.updateUserColour.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"updateShininess",value:function(e){this.setState({shininess:e}),Ee.ModelState.configurations[this.state.active].shininess=e,this.model.updateShininess(this.state.active,e)}},{key:"updateUserColour",value:function(e,t){var s=this.state.configurations[this.state.active].colour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e}this.model.updateUserColour(this.state.active,s),Ee.ModelState.configurations[this.state.active].colour=s}},{key:"toggleColour",value:function(){var e=!this.state.configurations[this.state.active].colourFromDirector;this.setState({colourFromDirector:e}),Ee.ModelState.configurations[this.state.active].colourFromDirector=e,this.model.toggleUserColour(this.state.active,e)}},{key:"toggleWireframe",value:function(){var e=!this.state.configurations[this.state.active].displayAsWireframe;this.setState({displayAsWireframe:e}),Ee.ModelState.configurations[this.state.active].displayAsWireframe=e,this.model.toggleWireframe(this.state.active,e)}},{key:"updateParameter",value:function(e,t){this.state.configurations[this.state.active].parameters.vals[t]=parseFloat(e),this.reset(),Ee.ModelState.configurations[this.state.active].parameters.vals[t]=parseFloat(e),this.model.updateShape(this.state.shape,this.state.active,this.state.configurations[this.state.active].parameters)}},{key:"reset",value:function(){var e;e=this.state.reset>50?0:++this.state.reset,this.setState({reset:e})}},{key:"selectSet",value:function(e){for(var t=0;t<this.state.sets.length;t++)if(0==this.state.sets[t].localeCompare(e)){this.setState({active:t}),Ee.ModelState.active=t;break}this.reset()}},{key:"selectShape",value:function(e){var t=this.model.getParameters(e);this.setState({shape:e,parameters:t}),this.reset(),Ee.ModelState.configurations[this.state.active].shape=e,Ee.ModelState.configurations[this.state.active].parameters=t,this.model.updateShape(e,this.state.active,t)}},{key:"render",value:function(){var e=this.state.configurations[this.state.active],t=this.state.reset,s=e.title,i=this.state.sets;return Object(a.jsxs)("div",{children:[Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:" Configuration"})}),Object(a.jsx)(de,{f:this.selectSet,selectingSet:!0,title:"Set",values:i,active:s}),Object(a.jsx)(de,{f:this.selectShape,title:"Shape",values:["Ellipsoid","Sphere","Spherocylinder","Spheroplatelet","Cut Sphere","Cone","Cylinder","Torus"],active:e.shape}),Object(a.jsx)(ue,{f:this.updateParameter,titles:e.parameters.names,values:e.parameters.vals}),Object(a.jsx)("br",{}),Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:"  Material "})}),Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsxs)(ee.a,{xs:20,children:[Object(a.jsx)(te.a,{checked:e.displayAsWireframe,onClick:this.toggleWireframe,children:" Display as Wireframe "}),Object(a.jsx)(te.a,{checked:e.colourFromDirector,onClick:this.toggleColour,children:" Colour from Director "}),Object(a.jsx)("br",{})]})]}),Object(a.jsx)("p",{style:{marginLeft:je},children:" RGB "}),Object(a.jsx)(be,{f:this.updateUserColour,disabled:e.colourFromDirector,boundaries:[0,255],val:e.colour.r,type:"r"}),Object(a.jsx)(be,{f:this.updateUserColour,disabled:e.colourFromDirector,boundaries:[0,255],val:e.colour.g,type:"g"}),Object(a.jsx)(be,{f:this.updateUserColour,disabled:e.colourFromDirector,boundaries:[0,255],val:e.colour.b,type:"b"}),Object(a.jsx)("p",{style:{marginLeft:je},children:" Shininess "}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,100],val:e.shininess,f:this.updateShininess})]},t)}}]),s}(n.a.Component),fe=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state=Ee.ViewOptionsState,a.model=e.model,a.toggleAutorotate=a.toggleAutorotate.bind(Object(X.a)(a)),a.selectCameraType=a.selectCameraType.bind(Object(X.a)(a)),a.updateLOD=a.updateLOD.bind(Object(X.a)(a)),a.updateLookat=a.updateLookat.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"toggleAutorotate",value:function(){this.setState({rotating:!this.state.rotating}),Ee.ViewOptionsState.rotating=!Ee.ViewOptionsState.rotating,this.model.toggleCameraRotation()}},{key:"selectCameraType",value:function(e){this.setState({type:e}),Ee.ViewOptionsState.cameraType=e,this.model.setCamera(e)}},{key:"updateLOD",value:function(e){this.setState({LOD:e}),Ee.ViewOptionsState.LOD=e,this.model.updateLOD(e-1)}},{key:"updateLookat",value:function(e,t){var s=this.state.lookAt;switch(t){case 0:s.x=parseFloat(e);break;case 1:s.y=parseFloat(e);break;case 2:s.z=parseFloat(e)}console.log(s),this.model.updateLookAt(s),Ee.ViewOptionsState.lookAt=s}},{key:"render",value:function(){var e=this.state.type,t=this.state.rotating;return Object(a.jsxs)("div",{children:[Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:" Camera "})}),Object(a.jsxs)(se.a,{fluid:!0,children:[Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsx)(ee.a,{xs:12,children:Object(a.jsx)(te.a,{checked:t,onClick:this.toggleAutorotate,children:" AutoRotate"})})]}),Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:2}),Object(a.jsx)(ee.a,{xs:12,children:Object(a.jsx)(z.a,{controlId:"radioList",children:Object(a.jsxs)(P.a,{name:"radioList",value:e,onChange:this.selectCameraType,children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:"Type"}),Object(a.jsx)(T.a,{defaultChecked:!0,value:"perspective",children:"Perspective "}),Object(a.jsx)(T.a,{value:"orthographic",children:"Orthographic "})]})})})]}),Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:2}),Object(a.jsxs)(ee.a,{xs:12,children:[Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:" Look at"})]})]})]}),Object(a.jsx)(ue,{titles:["X position","Y position","Z position"],values:[0,0,0],f:this.updateLookat}),Object(a.jsx)("br",{}),Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:" Perfomance Tuning "})}),Object(a.jsx)(ae.a,{style:{marginLeft:je},layout:"inline",children:Object(a.jsxs)(z.a,{children:[Object(a.jsx)(ie.a,{children:"Level of Detail"}),Object(a.jsx)(ne.a,{placement:"top",trigger:"hover",speaker:Oe,children:Object(a.jsx)(K.a,{icon:"question-circle",size:"lg",style:{marginTop:12}})})]})}),Object(a.jsx)(re.a,{min:1,step:1,max:5,defaultValue:4,graduated:!0,progress:!0,style:{width:220,marginLeft:40},onChange:this.updateLOD,renderMark:function(e){return e}})]})}}]),s}(n.a.Component),ve=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state=Ee.SlicingState,a.model=e.model,a.toggleIntersection=a.toggleIntersection.bind(Object(X.a)(a)),a.toggleHelperX=a.toggleHelperX.bind(Object(X.a)(a)),a.toggleHelperY=a.toggleHelperY.bind(Object(X.a)(a)),a.toggleHelperZ=a.toggleHelperZ.bind(Object(X.a)(a)),a.updateHelpers=a.updateHelpers.bind(Object(X.a)(a)),a.updateSlicer=a.updateSlicer.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"toggleIntersection",value:function(){var e=!this.state.clipIntersection;this.setState({clipIntersection:e}),Ee.SlicingState.clipIntersection=e,this.model.toggleClipIntersection(e)}},{key:"updateHelpers",value:function(e){this.setState({helpers:e}),Ee.SlicingState.helpers=e}},{key:"toggleHelperX",value:function(){var e=this.state.helpers,t=!e[0];e[0]=t,this.updateHelpers(e),this.model.toggleHelper(0,t)}},{key:"toggleHelperY",value:function(){var e=this.state.helpers,t=!e[1];e[1]=t,this.updateHelpers(e),this.model.toggleHelper(1,t)}},{key:"toggleHelperZ",value:function(){var e=this.state.helpers,t=!e[2];e[2]=t,this.updateHelpers(e),this.model.toggleHelper(2,t)}},{key:"updateSlicer",value:function(e,t){switch(e){case 0:Ee.SlicingState.x=t;break;case 1:Ee.SlicingState.y=t;break;case 2:Ee.SlicingState.z=t}this.model.updateSlicer(e,t)}},{key:"render",value:function(){var e=this.state;return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)(se.a,{fluid:!0,children:Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsx)(ee.a,{xs:20,children:Object(a.jsx)(te.a,{checked:e.clipIntersection,onClick:this.toggleIntersection,children:" Slice Intersection"})})]})}),Object(a.jsx)(pe,{title:"X : ",f:this.updateSlicer,index:0,vals:e.x}),Object(a.jsx)("br",{}),Object(a.jsx)(se.a,{fluid:!0,children:Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsx)(ee.a,{xs:12,children:Object(a.jsx)(te.a,{checked:e.helpers[0],onClick:this.toggleHelperX,children:" Show Helper"})})]})}),Object(a.jsx)(pe,{title:"Y : ",f:this.updateSlicer,index:1,vals:e.y}),Object(a.jsx)("br",{}),Object(a.jsx)(se.a,{fluid:!0,children:Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsx)(ee.a,{xs:12,children:Object(a.jsx)(te.a,{checked:e.helpers[1],onClick:this.toggleHelperY,children:" Show Helper"})})]})}),Object(a.jsx)(pe,{title:"Z : ",f:this.updateSlicer,index:2,vals:e.z}),Object(a.jsx)("br",{}),Object(a.jsx)(se.a,{fluid:!0,children:Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsx)(ee.a,{xs:12,children:Object(a.jsx)(te.a,{checked:e.helpers[2],onClick:this.toggleHelperZ,children:" Show Helper"})})]})})]})}}]),s}(n.a.Component),ye=function(e){var t=e.active,s=e.onSelect;return Object(a.jsxs)(R.a,{activeKey:t,onSelect:s,style:{margin:10,width:280},justified:!0,appearance:"tabs",children:[Object(a.jsx)(R.a.Item,{eventKey:"point",children:"Point"}),Object(a.jsx)(R.a.Item,{eventKey:"directional",children:"Directional"})]})},xe=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state=Ee.PointLightState,a.model=e.model,a.reset=0,a.handleSelect=a.handleSelect.bind(Object(X.a)(a)),a.updateColour=a.updateColour.bind(Object(X.a)(a)),a.updatePosition=a.updatePosition.bind(Object(X.a)(a)),a.toggleLightEnabled=a.toggleLightEnabled.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"handleSelect",value:function(){0==this.state.active.localeCompare("point")?this.setState(Ee.DirectionalLightState):this.setState(Ee.PointLightState),this.reset>5&&(this.reset=0),this.setState({reset:++this.reset})}},{key:"toggleLightEnabled",value:function(){var e,t=!this.state.enabled;this.setState({enabled:t}),0==this.state.active.localeCompare("point")?(Ee.PointLightState.enabled=t,e=Ee.PointLightState.colour.i):(Ee.DirectionalLightState.enabled=t,e=Ee.DirectionalLightState.colour.i),t?this.updateColour(e,"i"):this.updateColour(0,"i"),this.setState({reset:++this.reset}),0==this.state.active.localeCompare("point")?Ee.PointLightState.colour.i=e:Ee.DirectionalLightState.colour.i=e}},{key:"updateColour",value:function(e,t){var s=this.state.colour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e;break;case"i":s.i=e}0==this.state.active.localeCompare("point")?(this.model.updateLight(2,s),Ee.PointLightState.colour=s):(this.model.updateLight(1,s),Ee.DirectionalLightState.colour=s)}},{key:"updatePosition",value:function(e,t){var s=this.state.position;switch(t){case"x":s.x=e;break;case"y":s.y=e;break;case"z":s.z=e}0==this.state.active.localeCompare("point")?(this.model.updateLightPosition(2,s),Ee.PointLightState.position=s):(this.model.updateLightPosition(1,s),Ee.DirectionalLightState.position=s)}},{key:"render",value:function(){var e=this.state.active,t=this.state;return Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)(ye,{active:e,onSelect:this.handleSelect}),Object(a.jsx)("br",{}),Object(a.jsx)(se.a,{fluid:!0,children:Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsxs)(ee.a,{xs:12,children:[Object(a.jsxs)(te.a,{checked:t.enabled,onClick:this.toggleLightEnabled,children:[" ",Object(a.jsx)("strong",{children:"Enabled "})," "]}),Object(a.jsx)("br",{})]})]})}),Object(a.jsx)("p",{style:{marginLeft:je},children:" RGB "}),Object(a.jsx)(be,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.r,f:this.updateColour,type:"r"}),Object(a.jsx)(be,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.g,f:this.updateColour,type:"g"}),Object(a.jsx)(be,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.b,f:this.updateColour,type:"b"}),Object(a.jsx)("p",{style:{marginLeft:je},children:" Intensity "}),Object(a.jsx)(be,{disabled:!t.enabled,boundaries:[0,100],val:t.colour.i,f:this.updateColour,type:"i"}),Object(a.jsx)("p",{style:{marginLeft:je},children:" Position XYZ "}),Object(a.jsx)(be,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.x,f:this.updatePosition,type:"x"}),Object(a.jsx)(be,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.y,f:this.updatePosition,type:"y"}),Object(a.jsx)(be,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.z,f:this.updatePosition,type:"z"})]},t.reset)}}]),s}(n.a.Component),Se=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state=Ee.AmbientLightState,a.model=e.model,a.updateAmbientLightColour=a.updateAmbientLightColour.bind(Object(X.a)(a)),a.updateBackgroundColour=a.updateBackgroundColour.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"updateAmbientLightColour",value:function(e,t){var s=this.state.ambientLightColour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e;break;case"i":s.i=e}this.model.updateLight(0,s),Ee.AmbientLightState.ambientLightColour=s}},{key:"updateBackgroundColour",value:function(e,t){var s=this.state.backgroundColour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e}this.model.updateBg(s),Ee.AmbientLightState.backgroundColour=s}},{key:"render",value:function(){var e=this.state.ambientLightColour,t=this.state.backgroundColour;return Object(a.jsxs)("div",{children:[Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:" Ambient Light "})}),Object(a.jsx)("p",{style:{marginLeft:je},children:" RGB "}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:e.r,f:this.updateAmbientLightColour,type:"r"}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:e.g,f:this.updateAmbientLightColour,type:"g"}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:e.b,f:this.updateAmbientLightColour,type:"b"}),Object(a.jsx)("p",{style:{marginLeft:je},children:" Intensity "}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,100],val:e.i,f:this.updateAmbientLightColour,type:"i"}),Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:" Background Colour"})}),Object(a.jsx)("p",{style:{marginLeft:je},children:" RGB "}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:t.r,f:this.updateBackgroundColour,type:"r"}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:t.g,f:this.updateBackgroundColour,type:"g"}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:t.b,f:this.updateBackgroundColour,type:"b"})]})}}]),s}(n.a.Component),ke=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this)).state=Ee.VisualElementsState,a.model=e.model,a.toggleBoundingShapeEnabled=a.toggleBoundingShapeEnabled.bind(Object(X.a)(a)),a.selectShape=a.selectShape.bind(Object(X.a)(a)),a.toggleAxes=a.toggleAxes.bind(Object(X.a)(a)),a.toggleGrid=a.toggleGrid.bind(Object(X.a)(a)),a.updateGridColour=a.updateGridColour.bind(Object(X.a)(a)),a.updateGridSize=a.updateGridSize.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"updateGridColour",value:function(e,t){var s=this.state.gridColour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e}this.model.updateGridColour(s),Ee.VisualElementsState.gridColour=s}},{key:"updateGridSize",value:function(e){this.model.updateGridSize(e),Ee.VisualElementsState.size=e}},{key:"toggleBoundingShapeEnabled",value:function(){var e=!Ee.VisualElementsState.boundingShapeEnabled;this.setState({boundingShapeEnabled:e}),Ee.VisualElementsState.boundingShapeEnabled=e,this.model.updateBoundingShape(this.state.activeShape,e)}},{key:"selectShape",value:function(e){this.setState({activeShape:e}),Ee.VisualElementsState.activeShape=e,this.model.updateBoundingShape(e,this.state.boundingShapeEnabled)}},{key:"toggleAxes",value:function(){this.setState({showAxes:!this.state.showAxes}),this.model.toggleAxes(),Ee.VisualElementsState.showAxes=!Ee.VisualElementsState.showAxes}},{key:"toggleGrid",value:function(){this.setState({showGrid:!this.state.showGrid}),this.model.toggleGrid(),Ee.VisualElementsState.showGrid=!Ee.VisualElementsState.showGrid}},{key:"render",value:function(){var e=this.state.boundingShapeEnabled,t=this.state.activeShape,s=this.state.showAxes,i=this.state.showGrid,n=this.state.gridColour,r=this.state.size;return Object(a.jsxs)("div",{children:[Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:" Bounding Shape "})}),Object(a.jsxs)(se.a,{fluid:!0,children:[Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsxs)(ee.a,{xs:12,children:[Object(a.jsx)(te.a,{checked:e,onClick:this.toggleBoundingShapeEnabled,children:" Enabled "}),Object(a.jsx)("br",{})]})]}),Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:2}),Object(a.jsxs)(ee.a,{xs:12,children:[Object(a.jsx)(z.a,{controlId:"radioList",children:Object(a.jsxs)(P.a,{name:"radioList",value:t,onChange:this.selectShape,children:[Object(a.jsx)("p",{children:"Shapes"}),Object(a.jsx)(T.a,{disabled:!e,value:"box",children:"Box "}),Object(a.jsx)(T.a,{disabled:!e,value:"sphere",children:"Sphere "}),Object(a.jsx)(T.a,{disabled:!0,value:"cylinder",children:"Cylinder "})]})}),Object(a.jsx)("br",{})]})]})]}),Object(a.jsx)("p",{style:{marginLeft:je},children:" PRINT SHAPE INFO HERE"}),Object(a.jsx)(_.a,{children:Object(a.jsx)("strong",{style:ge,children:" Grid "})}),Object(a.jsx)(se.a,{fluid:!0,children:Object(a.jsxs)($.a,{className:"show-grid",children:[Object(a.jsx)(ee.a,{xs:1}),Object(a.jsxs)(ee.a,{xs:12,children:[Object(a.jsx)(te.a,{checked:s,onClick:this.toggleAxes,children:" Show Axes"}),Object(a.jsx)(te.a,{checked:i,onClick:this.toggleGrid,children:" Show Grid"})]})]})}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{style:{marginLeft:je},children:" RGB "}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:n.r,f:this.updateGridColour,type:"r"}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:n.g,f:this.updateGridColour,type:"g"}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,255],val:n.b,f:this.updateGridColour,type:"b"}),Object(a.jsx)("p",{style:{marginLeft:je},children:" Size "}),Object(a.jsx)(be,{disabled:!1,boundaries:[0,100],val:r,f:this.updateGridSize}),Object(a.jsx)("br",{})]})}}]),s}(n.a.Component),we=function(e){var t=e.expand,s=e.onChange;return Object(a.jsx)(N.a,{appearance:"subtle",className:"nav-toggle",children:Object(a.jsx)(N.a.Body,{children:Object(a.jsx)(R.a,{pullRight:!0,children:Object(a.jsx)(Z.a,{circle:!0,style:{textAlign:"center",margin:10},onClick:s,appearance:"default",icon:Object(a.jsx)(K.a,{icon:t?"angle-left":"angle-right"})})})})})},Ce={margin:6.5},Me=window.innerHeight-56,Le=function(e){var t=e.active,s=e.onSelect,i=Object(Y.a)(e,["active","onSelect"]);return Object(a.jsx)("div",{children:Object(a.jsxs)(R.a,Object(A.a)(Object(A.a)({},i),{},{activeKey:t,onSelect:s,style:{backgroundColor:"#101010",height:Me},children:[Object(a.jsx)(R.a.Item,{title:"Models",tooltip:!0,eventKey:"Models",icon:Object(a.jsx)(K.a,{style:Ce,size:"lg",icon:"shapes"})}),Object(a.jsx)(R.a.Item,{eventKey:"View",icon:Object(a.jsx)(K.a,{style:Ce,size:"lg",icon:"eye"})}),Object(a.jsx)(R.a.Item,{eventKey:"Ambient Light",icon:Object(a.jsx)(K.a,{style:Ce,size:"lg",icon:"sun-o"})}),Object(a.jsx)(R.a.Item,{eventKey:"Other Lighting",icon:Object(a.jsx)(K.a,{style:Ce,size:"lg",icon:"creative"})}),Object(a.jsx)(R.a.Item,{eventKey:"Slicing",icon:Object(a.jsx)(K.a,{style:Ce,size:"lg",icon:"cut"})}),Object(a.jsx)(R.a.Item,{eventKey:"Reference",icon:Object(a.jsx)(K.a,{style:Ce,size:"lg",icon:"cube"})})]}))})},Ge=function(e){var t=e.active,s=e.expand,i=e.onChange,n=e.model,r=[];if(s?r.push(Object(a.jsx)("div",{style:{backgroundColor:"#0F131B"},children:Object(a.jsx)(R.a,{children:Object(a.jsxs)(N.a,{appearance:"subtle",children:[Object(a.jsx)(R.a,{pullLeft:!0,children:Object(a.jsx)("h3",{style:{marginTop:15,marginLeft:30},children:t})}),Object(a.jsx)(R.a,{pullRight:!0,children:Object(a.jsx)(we,{expand:s,onChange:i})})]})})})):r.push(Object(a.jsx)(we,{expand:s,onChange:i})),s)switch(t){case"Models":r.push(Object(a.jsx)(me,{model:n}));break;case"View":r.push(Object(a.jsx)(fe,{model:n}));break;case"Ambient Light":r.push(Object(a.jsx)(Se,{model:n}));break;case"Other Lighting":r.push(Object(a.jsx)(xe,{model:n}));break;case"Slicing":r.push(Object(a.jsx)(ve,{model:n}));break;case"Reference":r.push(Object(a.jsx)(ke,{model:n}))}return r},De=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={expand:e.sidebarExpanded,active:"Models"},a.model=e.model,a.handleToggle=a.handleToggle.bind(Object(X.a)(a)),a.handleSelect=a.handleSelect.bind(Object(X.a)(a)),a}return Object(c.a)(s,[{key:"handleToggle",value:function(){this.setState({expand:!this.state.expand}),this.model.toggleSidebar()}},{key:"handleSelect",value:function(e){this.setState({active:e}),this.state.expand||this.handleToggle()}},{key:"render",value:function(){var e=this.state.expand,t=this.state.active;return Object(a.jsx)("div",{children:Object(a.jsx)(q.a,{style:{display:"flex",flexDirection:"column"},width:e?356:56,collapsible:!0,appearance:"default",children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(q.a,{width:56,children:Object(a.jsx)(Le,{vertical:!0,appearance:"subtle",active:t,onSelect:this.handleSelect})}),Object(a.jsx)(p.a,{children:Object(a.jsx)(Ge,{active:t,expand:e,onChange:this.handleToggle,model:this.model})})]})})})}}]),s}(i.Component),Ee=function(){function e(t,s){Object(o.a)(this,e),this.SlicingDefaultState={clipIntersection:!1,helpers:[!1,!1,!1],x:[-50,50],y:[-50,50],z:[-50,50]},this.ModelDefaultState={active:0,reset:0,sets:["Set A"],configurations:[]},this.ConfigurationDefaultState={title:"",shape:"Ellipsoid",parameters:{names:["X","Y","Z"],vals:[.5,.2,.2]},colour:{r:255,g:255,b:255},envMap:"None",shininess:30,reflectivity:.5,refractivity:.5,colourFromDirector:!0,displayAsWireframe:!0},this.ViewOptionsDefaultState={rotating:!1,type:"perspective",lookAt:{x:0,y:0,z:0},LOD:4},this.PointLightDefaultState={reset:0,active:"point",enabled:!0,colour:{r:255,g:255,b:255,i:60},position:{x:5,y:0,z:5}},this.DirectionalLightDefaultState={reset:0,active:"directional",enabled:!0,colour:{r:255,g:255,b:255,i:50},position:{x:-5,y:0,z:-5}},this.VisualElementsDefaultState={boundingShapeEnabled:!1,activeShape:"box",showAxes:!1,showGrid:!1,gridColour:{r:50,g:90,b:90},size:50},this.AmbientLightDefaultState={ambientLightColour:{r:15,g:240,b:255,i:40},backgroundColour:{r:0,g:0,b:0}},this.model=t,this.header=Object(a.jsx)(U,{fps:60,functions:s}),this.sidebar=Object(a.jsx)(De,{model:this.model}),this.setDefaultStates()}return Object(c.a)(e,[{key:"statesToJSON",value:function(){var t=[];return t.push(JSON.stringify(e.VisualElementsState)),t.push(JSON.stringify(e.SlicingState)),t.push(JSON.stringify(e.PointLightState)),t.push(JSON.stringify(e.DirectionalLightState)),t.push(JSON.stringify(e.AmbientLightState)),t.push(JSON.stringify(e.ViewOptionsState)),t.push(JSON.stringify(e.ModelState)),t}},{key:"setDefaultStates",value:function(){for(var t in e.VisualElementsState=this.VisualElementsDefaultState,e.AmbientLightState=this.AmbientLightDefaultState,e.PointLightState=this.PointLightDefaultState,e.DirectionalLightState=this.DirectionalLightDefaultState,e.ViewOptionsState=this.ViewOptionsDefaultState,e.ModelState=this.ModelDefaultState,e.SlicingState=this.SlicingDefaultState,e.ModelState.sets){var s=JSON.parse(JSON.stringify(this.ConfigurationDefaultState));s.title=e.ModelState.sets[t],e.ModelState.configurations.push(s)}}}]),e}(),Ae=s.p+"static/media/sample1.f5b826bb.txt",Ie=function e(){var t=this;Object(o.a)(this,e),this.save=function(){var e=t.model.setsToJSON();e.push(t.view.statesToJSON()),console.log(e)},this.load=function(){console.log("load")},this.export=function(){console.log("export")},this.start=function(){t.addListeners(),t.loadSample(),t.render()},this.getHeader=function(){return t.view.header},this.getSiderbar=function(){return t.view.sidebar},this.getDomElement=function(){return t.model.renderer.domElement},this.render=function(){t.model.update(),requestAnimationFrame(t.render)},this.loadSample=function(){fetch(Ae).then((function(e){return e.text()})).then((function(e){t.model.load(e)}))},this.addListeners=function(){document.body.style.overflow="hidden",window.addEventListener("resize",(function(){t.model.updateDimensions(),t.model.updateCamera()})),document.addEventListener("fullscreenchange",(function(){t.model.updateDimensions(),t.model.updateCamera()})),document.body.onkeydown=function(e){e.keyCode}},this.io=[this.save,this.load,this.export],this.model=new E,this.view=new Ee(this.model,this.io)},ze=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).controller=new Ie,a.state={header:a.controller.getHeader(),sidebar:a.controller.getSiderbar()},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.mount.appendChild(this.controller.getDomElement()),this.controller.start()}},{key:"render",value:function(){var e=this,t=this.state.header,s=this.state.sidebar;return Object(a.jsx)("div",{children:Object(a.jsxs)(d.a,{children:[t,Object(a.jsxs)(d.a,{children:[s,Object(a.jsx)(p.a,{children:Object(a.jsx)("div",{ref:function(t){return e.mount=t}})})]})]})})}}]),s}(i.Component);l.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(ze,{})}),document.getElementById("root"))}},[[361,1,2]]]);
//# sourceMappingURL=main.44af8f3e.chunk.js.map