(this.webpackJsonpwebmga=this.webpackJsonpwebmga||[]).push([[0],{193:function(e){e.exports=JSON.parse('{"model":{"sets":[{"name":"Set A","orientationType":"q","positions":[[-4,0,0],[-3,0,0],[-2,0,0],[-1,0,0],[0,0,0],[1,0,0],[2,0,0],[3,0,0],[4,0,0],[0,-4,0],[0,-3,0],[0,-2,0],[0,-1,0],[0,1,0],[0,2,0],[0,3,0],[0,4,0]],"orientations":[[0.707,-0.707,0,0],[0.851,-0.526,0,0],[0.924,-0.383,0,0],[0.973,-0.23,0,0],[1,0,0,0],[0.973,0.23,0,0],[0.924,0.383,0,0],[0.851,0.526,0,0],[0.707,0.707,0,0],[0.707,0,0.707,0],[0.851,0,0.526,0],[0.924,0,0.383,0],[0.973,0,0.23,0],[0.973,0,-0.23,0],[0.924,0,-0.383,0],[0.851,0,-0.526,0],[0.707,0,-0.707,0]]}]},"state":{"reference":{"boundingShapeEnabled":false,"activeShape":"box","showAxes":false,"showGrid":false,"gridColour":{"r":255,"g":255,"b":255},"size":50},"ambientLight":{"ambientLightColour":{"r":255,"g":255,"b":255,"i":80},"backgroundColour":{"r":0,"g":0,"b":0}},"pointLight":{"reset":0,"active":"point","enabled":true,"colour":{"r":255,"g":255,"b":255,"i":60},"position":{"x":5,"y":0,"z":5}},"directionalLight":{"reset":0,"active":"directional","enabled":true,"colour":{"r":255,"g":255,"b":255,"i":50},"position":{"x":-5,"y":0,"z":-5}},"camera":{"rotating":false,"type":"perspective","lookAt":{"x":0,"y":0,"z":0}},"slicing":{"clipIntersection":false,"helpers":[false,false,false],"x":[-50,50],"y":[-50,50],"z":[-50,50]},"model":{"active":0,"reset":0,"sets":["Set A"],"configurations":[{"title":"Set A","shape":"Spherocylinder","parameters":{"names":["Radius","Length"],"vals":[0.5,0.7]},"colour":{"r":255,"g":255,"b":255},"shininess":30,"colourFromDirector":true,"displayAsWireframe":true}]}}}')},363:function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(1),n=s.n(a),r=s(38),o=s.n(r),l=s(7),h=s(9),c=s(10),u=s(11),d=(s(137),s(373)),p=s(391),b=s(12),j=s(20),g=s(4),m=s(181),f=s(40),v=s(50),O=s(379),y=function(){function e(){Object(l.a)(this,e),this.levels=2,this.stripGeometries=[],this.fanGeometries=[],this.args=arguments[0],this.isPreset=!1,this.LOD=1,this.complexity=[6,12,18,24,32]}return Object(h.a)(e,[{key:"clear",value:function(){this.presetGeometry=[],this.stripGeometries=[],this.fanGeometries=[]}},{key:"addGeometry",value:function(e,t,s){var i=new g.e;i.setAttribute("position",new g.d(Float32Array.from(e),3)),i.setAttribute("normal",new g.d(Float32Array.from(t),3)),0===s.localeCompare("strip")?(i=v.a.toTrianglesDrawMode(i,g.H),this.stripGeometries.push(i)):(i=v.a.toTrianglesDrawMode(i,g.G),this.fanGeometries.push(i))}},{key:"mergeGeometries",value:function(){this.stripGeometry=v.a.mergeBufferGeometries(this.stripGeometries)}}],[{key:"normalize",value:function(e,t){void 0!==t&&(e[0]/=Math.pow(t[0],2),e[1]/=Math.pow(t[1],2),e[2]/=Math.pow(t[2],2));var s=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return e=e.map((function(e){return e/s}))}}]),e}(),x=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e,i){var a;return Object(l.a)(this,s),(a=t.call(this)).isPreset=!0,a.type=e,a.parameters=i,a}return Object(h.a)(s,[{key:"generate",value:function(){switch(this.clear(),this.type){case"Sphere":this.presetGeometry=new g.C(this.parameters,this.complexity[this.LOD],this.complexity[this.LOD]);break;case"Cone":this.presetGeometry=Object(f.a)(g.g,Object(b.a)(this.parameters).concat([this.complexity[this.LOD]]));break;case"Cylinder":this.presetGeometry=Object(f.a)(g.h,Object(b.a)(this.parameters).concat([this.complexity[this.LOD]]));break;case"Torus":this.presetGeometry=Object(f.a)(g.F,Object(b.a)(this.parameters).concat([this.complexity[this.LOD]]));break;default:O.a.error("Error: Unknown shape identifier")}}}]),s}(y),k=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.call(this,arguments)}return Object(h.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e,t,s,i,a=[],n=[],r=this.args,o=[],l=[],h=[],c=0;c<this.levels;++c){a.push(this.complexity[this.LOD]+c*-this.complexity[this.LOD]/(this.levels-1)),a.push(this.complexity[this.LOD]+c*-this.complexity[this.LOD]/(this.levels-1)),n.push(2*Math.PI/a[0]),n.push(Math.PI/(2*(a[1]+1)));for(var u=0;u<2*a[1];++u)for(var d=0;d<a[0]+1;++d){var p,j,g,m;0===d||d===a[0]?(h.push(-r[0]*Math.sin((u+1)*n[1])),h.push(0)):(h.push(-Math.cos(d*n[0])*r[0]*Math.sin((u+1)*n[1])),h.push(-Math.sin(d*n[0])*r[1]*Math.sin((u+1)*n[1]))),h.push(Math.cos((u+1)*n[1])*r[2]),(p=o).push.apply(p,Object(b.a)(h)),(j=l).push.apply(j,Object(b.a)(y.normalize(h,r))),h=[],0===d||d===a[0]?(h.push(-r[0]*Math.sin((u+2)*n[1])),h.push(0)):(h.push(-Math.cos(d*n[0])*r[0]*Math.sin((u+2)*n[1])),h.push(-Math.sin(d*n[0])*r[1]*Math.sin((u+2)*n[1]))),h.push(Math.cos((u+2)*n[1])*r[2]),(g=o).push.apply(g,Object(b.a)(h)),(m=l).push.apply(m,Object(b.a)(y.normalize(h,r))),h=[]}}for(this.addGeometry(o,l,"strip"),o=[],l=[],h.push(0),h.push(0),h.push(r[2]),(e=o).push.apply(e,Object(b.a)(h)),(t=l).push.apply(t,Object(b.a)(y.normalize(h,r))),h=[],d=0;d<a[0]+1;++d){var f,v;0===d||d===a[0]?(h.push(-r[0]*Math.sin(n[1])),h.push(0)):(h.push(-Math.cos(d*n[0])*r[0]*Math.sin(n[1])),h.push(-Math.sin(d*n[0])*r[1]*Math.sin(n[1]))),h.push(Math.cos(n[1])*r[2]),(f=o).push.apply(f,Object(b.a)(h)),(v=l).push.apply(v,Object(b.a)(y.normalize(h,r))),h=[]}for(this.addGeometry(o,l,"fan"),o=[],l=[],h.push(0),h.push(0),h.push(-r[2]),(s=o).push.apply(s,Object(b.a)(h)),(i=l).push.apply(i,Object(b.a)(y.normalize(h,r))),h=[],d=a[0];d>=0;--d){var O,x;0===d||d===a[0]?(h.push(-r[0]*Math.sin(n[1])),h.push(0)):(h.push(-Math.cos(d*n[0])*r[0]*Math.sin(n[1])),h.push(-Math.sin(d*n[0])*r[1]*Math.sin(n[1]))),h.push(-Math.cos(n[1])*r[2]),(O=o).push.apply(O,Object(b.a)(h)),(x=l).push.apply(x,Object(b.a)(y.normalize(h,r))),h=[]}this.addGeometry(o,l,"fan")}}]),s}(y),S=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.call(this,arguments)}return Object(h.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e,t,s=[],i=[],a=this.args[0],n=this.args[1],r=[],o=0;o<this.levels;++o){var l,h,c,u;s.push(this.complexity[this.LOD]+o*-this.complexity[this.LOD]/(this.levels-1)),s.push(s[0]/4),i.push(2*Math.PI/s[0]),i.push(2*Math.PI/(4*s[1]));for(var d=0;d<s[1]-1;++d){e=[],t=[];for(var p=0;p<=s[0];++p){var j,g,m,f;0===p||p===s[0]?(r.push(-Math.sin((d+1)*i[1])*a),r.push(0)):(r.push(-Math.cos(p*i[0])*Math.sin((d+1)*i[1])*a),r.push(-Math.sin(p*i[0])*Math.sin((d+1)*i[1])*a)),r.push(Math.cos((d+1)*i[1])*a),(j=t).push.apply(j,Object(b.a)(y.normalize(r))),r[2]+=n/2,(g=e).push.apply(g,Object(b.a)(r)),r=[],0===p||p===s[0]?(r.push(-Math.sin((d+2)*i[1])*a),r.push(0)):(r.push(-Math.cos(p*i[0])*Math.sin((d+2)*i[1])*a),r.push(-Math.sin(p*i[0])*Math.sin((d+2)*i[1])*a)),r.push(Math.cos((d+2)*i[1])*a),(m=t).push.apply(m,Object(b.a)(y.normalize(r))),r[2]+=n/2,(f=e).push.apply(f,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"strip")}for(var v=s[1]-1;v<2*(s[1]-1);++v){e=[],t=[];for(var O=0;O<=s[0];++O){var x,k,S,w;0===O||O===s[0]?(r.push(-Math.sin((v+1)*i[1])*a),r.push(0)):(r.push(-Math.cos(O*i[0])*Math.sin((v+1)*i[1])*a),r.push(-Math.sin(O*i[0])*Math.sin((v+1)*i[1])*a)),r.push(Math.cos((v+1)*i[1])*a),(x=t).push.apply(x,Object(b.a)(y.normalize(r))),r[2]-=n/2,(k=e).push.apply(k,Object(b.a)(r)),r=[],0===O||O===s[0]?(r.push(-1*Math.sin((v+2)*i[1])*a),r.push(0)):(r.push(-Math.cos(O*i[0])*Math.sin((v+2)*i[1])*a),r.push(-Math.sin(O*i[0])*Math.sin((v+2)*i[1])*a)),r.push(Math.cos((v+2)*i[1])*a),(S=t).push.apply(S,Object(b.a)(y.normalize(r))),r[2]-=n/2,(w=e).push.apply(w,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"strip")}t=[],e=[];for(var C=0;C<=s[0];++C){var M,L,G,E;0===C||C===s[0]?(r.push(-a),r.push(0)):(r.push(-Math.cos(C*i[0])*a),r.push(-Math.sin(C*i[0])*a)),r.push(0),(M=t).push.apply(M,Object(b.a)(y.normalize(r))),r[2]+=n/2,(L=e).push.apply(L,Object(b.a)(r)),r[2]=0,(G=t).push.apply(G,Object(b.a)(y.normalize(r))),r[2]-=n/2,(E=e).push.apply(E,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"strip"),t=[],e=[],r[0]=0,r[1]=0,r[2]=a,(l=t).push.apply(l,Object(b.a)(y.normalize(r))),r[2]+=n/2,(h=e).push.apply(h,Object(b.a)(r)),r=[];for(var D=0;D<=s[0];++D){var A,I;0===D||D===s[0]?(r.push(-Math.sin(i[1])*a),r.push(0)):(r.push(-Math.cos(D*i[0])*Math.sin(i[1])*a),r.push(-Math.sin(D*i[0])*Math.sin(i[1])*a)),r.push(Math.cos(i[1])*a),(A=t).push.apply(A,Object(b.a)(y.normalize(r))),r[2]+=n/2,(I=e).push.apply(I,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"fan"),t=[],e=[],r[0]=0,r[1]=0,r[2]=-a,(c=t).push.apply(c,Object(b.a)(y.normalize(r))),r[2]-=n/2,(u=e).push.apply(u,Object(b.a)(r)),r=[];for(var z=s[0];z>=0;--z){var P,T;0===z||z===s[0]?(r.push(-Math.sin(i[1])*a),r.push(0)):(r.push(-Math.cos(z*i[0])*Math.sin(i[1])*a),r.push(-Math.sin(z*i[0])*Math.sin(i[1])*a)),r.push(-Math.cos(i[1])*a),(P=t).push.apply(P,Object(b.a)(y.normalize(r))),r[2]-=n/2,(T=e).push.apply(T,Object(b.a)(r)),r=[]}this.addGeometry(e,t,"fan")}}}]),s}(y),w=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.call(this,arguments)}return Object(h.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e=this.args[0],t=this.args[1],s=[0,0,1],i=[0,0,-1],a=0,n=0,r=[],o=[],l=[],h=[],c=[],u=0;u<this.levels;++u){var d,p,j,g;r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),o.push(2*Math.PI/r[0]),o.push(Math.PI/(2*r[1]));for(var m=0;m<2*r[1];++m){a=e*Math.sin(m*o[1]),n=e*Math.sin((m+1)*o[1]);for(var f=0;f<r[0]+1;++f){var v,O,x,k;0===f||f===r[0]?(c.push(-a),c.push(0)):(c.push(-a*Math.cos(f*o[0])),c.push(-a*Math.sin(f*o[0]))),c.push(Math.cos(m*o[1])*e),(v=h).push.apply(v,Object(b.a)(y.normalize(c))),0===f||f===r[0]?c[0]-=t:(c[0]-=t*Math.cos(f*o[0]),c[1]-=t*Math.sin(f*o[0])),(O=l).push.apply(O,Object(b.a)(c)),c=[],0===f||f===r[0]?(c.push(-n),c.push(0)):(c.push(-n*Math.cos(f*o[0])),c.push(-n*Math.sin(f*o[0]))),c.push(Math.cos((m+1)*o[1])*e),(x=h).push.apply(x,Object(b.a)(y.normalize(c))),0===f||f===r[0]?c[0]-=t:(c[0]-=t*Math.cos(f*o[0]),c[1]-=t*Math.sin(f*o[0])),(k=l).push.apply(k,Object(b.a)(c)),c=[]}}this.addGeometry(l,h,"strip"),l=[],h=[],c.push(0),c.push(0),c.push(e),(d=h).push.apply(d,Object(b.a)(y.normalize(c))),(p=l).push.apply(p,Object(b.a)(c)),c=[];for(var S=0;S<r[0]+1;++S){var w,C;0===S||S===r[0]?(c.push(-t),c.push(0)):(c.push(-Math.cos(S*o[0])*t),c.push(-Math.sin(S*o[0])*t)),c.push(e),(w=h).push.apply(w,s),(C=l).push.apply(C,Object(b.a)(c)),c=[]}this.addGeometry(l,h,"fan"),l=[],h=[],c.push(0),c.push(0),c.push(-e),(j=h).push.apply(j,Object(b.a)(y.normalize(c))),(g=l).push.apply(g,Object(b.a)(c)),c=[];for(var M=r[0];M>=0;--M){var L,G;0===M||M===r[0]?(c.push(-t),c.push(0)):(c.push(-Math.cos(M*o[0])*t),c.push(-Math.sin(M*o[0])*t)),c.push(-e),(L=h).push.apply(L,i),(G=l).push.apply(G,Object(b.a)(c)),c=[]}this.addGeometry(l,h,"fan")}}}]),s}(y),C=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.call(this,arguments)}return Object(h.a)(s,[{key:"generate",value:function(){this.clear(),this.genGeometries(),this.mergeGeometries()}},{key:"genGeometries",value:function(){for(var e=this.args[0],t=this.args[1],s=[0,0,1],i=[0,0,-1],a=Math.acos(t/e),n=e*Math.sin(a),r=[],o=[],l=[],h=[],c=[],u=0;u<this.levels;++u){var d,p,j,g;r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),r.push(this.complexity[this.LOD]+u*-this.complexity[this.LOD]/(this.levels-1)),o.push(2*Math.PI/r[0]),o.push((Math.PI-2*a)/(2*r[1]));for(var m=0;m<2*r[1];++m)for(var f=0;f<r[0]+1;++f){var v,O,x,k;0===f||f===r[0]?(c.push(-e*Math.sin(a+m*o[1])),c.push(0)):(c.push(-Math.cos(f*o[0])*e*Math.sin(a+m*o[1])),c.push(-Math.sin(f*o[0])*e*Math.sin(a+m*o[1]))),c.push(Math.cos(a+m*o[1])*e),(v=h).push.apply(v,Object(b.a)(y.normalize(c))),(O=l).push.apply(O,Object(b.a)(c)),c=[],0===f||f===r[0]?(c.push(-e*Math.sin(a+(m+1)*o[1])),c.push(0)):(c.push(-Math.cos(f*o[0])*e*Math.sin(a+(m+1)*o[1])),c.push(-Math.sin(f*o[0])*e*Math.sin(a+(m+1)*o[1]))),c.push(Math.cos(a+(m+1)*o[1])*e),(x=h).push.apply(x,Object(b.a)(y.normalize(c))),(k=l).push.apply(k,Object(b.a)(c)),c=[]}this.addGeometry(l,h,"strip"),l=[],h=[],c.push(0),c.push(0),c.push(t),(d=h).push.apply(d,Object(b.a)(y.normalize(c))),(p=l).push.apply(p,Object(b.a)(c)),c=[];for(var S=0;S<r[0]+1;++S){var w,C;0===S||S===r[0]?(c.push(-n),c.push(0)):(c.push(-Math.cos(S*o[0])*n),c.push(-Math.sin(S*o[0])*n)),c.push(t),(w=h).push.apply(w,s),(C=l).push.apply(C,Object(b.a)(c)),c=[]}this.addGeometry(l,h,"fan"),l=[],h=[],c.push(0),c.push(0),c.push(-t),(j=h).push.apply(j,Object(b.a)(y.normalize(c))),(g=l).push.apply(g,Object(b.a)(c)),c=[];for(var M=r[0];M>=0;--M){var L,G;0===M||M===r[0]?(c.push(-n),c.push(0)):(c.push(-Math.cos(M*o[0])*n),c.push(-Math.sin(M*o[0])*n)),c.push(-t),(L=h).push.apply(L,i),(G=l).push.apply(G,Object(b.a)(c)),c=[]}this.addGeometry(l,h,"fan")}}}]),s}(y),M={Ellipsoid:{names:["X","Y","Z"],vals:[.5,.2,.2]},Spherocylinder:{names:["Radius","Length"],vals:[.5,.7]},Spheroplatelet:{names:["RadSphere","RadCircle"],vals:[1,.2]},CutSphere:{names:["Radius","zCut"],vals:[.8,.2]},Sphere:{names:["Radius"],vals:[.6]},Cone:{names:["Radius","Height"],vals:[.8,1.2]},Cylinder:{names:["RadiusTop","RadiusBottom","Height"],vals:[.5,.5,2]},Torus:{names:["Radius","Tube","Arc"],vals:[1,.3,6.3]}},L=function(){function e(t,s,i){Object(l.a)(this,e),this.positions=[],this.orientations=[],this.elements=[],this.meshes=[],this.Element=function(){function e(t,s,i){Object(l.a)(this,e),this.colour=t,this.position=s,this.euler=i}return Object(h.a)(e,[{key:"getColour",value:function(){return A.rgbToHex(this.colour[0],this.colour[1],this.colour[2])}},{key:"setGeometries",value:function(e){this.geometries=e}}]),e}(),this.name=t.name,this.orientationType=t.orientationType,this.positions=t.positions,this.orientations=t.orientations,this.clippingPlanes=s,this.clipIntersection=i,this.setDefaults(),null!=t.shapeType&&(this.shapeType=t.shapeType),null!=t.parameters&&(this.shapeType=t.parameters),null==this.name&&(this.name=this.shapeType),this.validateData(),this.genGeometries(),this.genElements(),this.setElements(),this.genMeshes()}return Object(h.a)(e,[{key:"validateData",value:function(){if(this.positions.length!==this.orientations.length)throw"Error: Position data does not correspond to orientation data. \n Total positions: "+this.positions.length+"\n Total rotations: "+this.orientations.length;for(var t in this.parameters)if(t<0)throw"Error: Invalid parameter "+t.toString()+" for "+this.name+"\n Must be positive.";var s=e.getParameters(this.shapeType);if(this.parameters.length!=s.vals.length)throw"Error: Wrong number of parameters specified for "+this.name+". \n Required: "+s.names}},{key:"setDefaults",value:function(){this.userColour=new g.f("#FFFFFF"),this.colourByDirector=!0,this.wireframe=!0,this.shininess=30,this.lod=4,this.shapeType="Ellipsoid",this.parameters=M.Ellipsoid.vals}},{key:"updateSlicers",value:function(e,t){this.clippingPlanes[2*e+1].constant=t[1],this.clippingPlanes[2*e].constant=-t[0]}},{key:"toggleClipIntersection",value:function(e){this.clipIntersection=e;var t,s=Object(j.a)(this.meshes);try{for(s.s();!(t=s.n()).done;){t.value.material.clipIntersection=e}}catch(i){s.e(i)}finally{s.f()}}},{key:"genMeshes",value:function(){var e,t,s,i,a=Object(j.a)(this.elements);try{for(a.s();!(i=a.n()).done;){var n=i.value;t=this.colourByDirector?new g.f(n.getColour()):this.userColour,(s=new g.u({color:t,side:g.j,clippingPlanes:this.clippingPlanes,clipIntersection:this.clipIntersection})).wireframe=this.wireframe,s.shininess=this.shininess;var r,o=Object(j.a)(n.geometries);try{for(o.s();!(r=o.n()).done;){var l=r.value;e=new g.s(l,s),this.meshes.push(e)}}catch(h){o.e(h)}finally{o.f()}}}catch(h){a.e(h)}finally{a.f()}}},{key:"setElements",value:function(){var e,t=[],s=Object(j.a)(this.elements);try{for(s.s();!(e=s.n()).done;){var i=e.value;this.shape.isPreset?t.push(this.shape.presetGeometry.clone()):(t.push(this.shape.stripGeometry.clone()),t.push(this.shape.fanGeometries[0].clone()),t.push(this.shape.fanGeometries[1].clone())),this.translate(i.position,t),this.rotate(i.euler,t),i.setGeometries(t),t=[]}}catch(a){s.e(a)}finally{s.f()}}},{key:"genElements",value:function(){for(var e,t,s=0;s<this.positions.length;s++)t=this.getRotations(this.orientationType,this.orientations[s]),e=this.colourFromOrientation(t),this.elements.push(new this.Element(e,this.positions[s],t))}},{key:"genElementsDeprecated",value:function(e){var t,s,i,a,n,r,o=[],l=[],h=Object(j.a)(e);try{for(h.s();!(r=h.n()).done;){i=r.value.split(" ");var c,u=Object(j.a)(i);try{for(u.s();!(c=u.n()).done;){var d=c.value;o.push(parseFloat(d))}}catch(p){u.e(p)}finally{u.f()}if(i=o,o=[],7!==i.length)break;t=i.slice(0,3),s=i.slice(3),this.positions.push(t),this.orientations.push(s),a=this.getRotations(this.orientationType,s),l=this.colourFromOrientation(a),n=new this.Element(l,t,a),this.elements.push(n)}}catch(p){h.e(p)}finally{h.f()}}},{key:"genGeometries",value:function(){switch(this.shapeType){case"Ellipsoid":this.shape=Object(f.a)(k,Object(b.a)(this.parameters));break;case"Spherocylinder":this.shape=Object(f.a)(S,Object(b.a)(this.parameters));break;case"Spheroplatelet":this.shape=Object(f.a)(w,Object(b.a)(this.parameters));break;case"Cut Sphere":this.shape=Object(f.a)(C,Object(b.a)(this.parameters));break;case"Sphere":this.shape=new x("Sphere",this.parameters);break;case"Cone":this.shape=new x("Cone",this.parameters);break;case"Cylinder":this.shape=new x("Cylinder",this.parameters);break;case"Torus":this.shape=new x("Torus",this.parameters);break;default:throw"Error: unexpected shape identifier. \n Found: "+this.shapeType}this.shape.LOD=this.lod,this.shape.generate()}},{key:"translate",value:function(e,t){var s,i=Object(j.a)(t);try{for(i.s();!(s=i.n()).done;){s.value.translate(e[0],e[1],e[2])}}catch(a){i.e(a)}finally{i.f()}}},{key:"rotate",value:function(e,t){var s,i=Object(j.a)(t);try{for(i.s();!(s=i.n()).done;){var a=s.value;a.rotateX(e.x),a.rotateY(e.y),a.rotateZ(e.z)}}catch(n){i.e(n)}finally{i.f()}}},{key:"getRotations",value:function(e,t){var s=new g.A,i=new g.k;switch(e){case"v":var a=new g.K(0,0,1);s.setFromUnitVectors(a,new g.K(t[0],t[1],t[2])),i.setFromQuaternion(s);break;case"q":s.fromArray(t),i.setFromQuaternion(s);break;case"a":s.setFromAxisAngle(new g.K(t[0],t[1],t[2]),t[3]),i.setFromQuaternion(s);break;case"e":i.fromArray(t);break;default:throw"Error: Unexpected rotation type value. \n Found: "+e+"\n Expected: v | q | a | e"}return i}},{key:"colourFromOrientation",value:function(e){var t=[];return t.push(Math.round((e._x+Math.PI)/(2*Math.PI)*255)),t.push(Math.round((e._y+Math.PI)/(2*Math.PI)*255)),t.push(Math.round((e._z+Math.PI)/(2*Math.PI)*255)),t}},{key:"setUserColour",value:function(e){this.userColour=new g.f(e)}}],[{key:"getParameters",value:function(e){var t;switch(e){case"Ellipsoid":t=M.Ellipsoid;break;case"Spherocylinder":t=M.Spherocylinder;break;case"Spheroplatelet":t=M.Spheroplatelet;break;case"Cut Sphere":t=M.CutSphere;break;case"Sphere":t=M.Sphere;break;case"Cone":t=M.Cone;break;case"Cylinder":t=M.Cylinder;break;case"Torus":t=M.Torus;break;default:O.a.error("Error: Unexpected shape identifier")}return t}}]),e}(),G=function(){function e(t){Object(l.a)(this,e),this.setDefaultLights(t)}return Object(h.a)(e,[{key:"updatePosition",value:function(e,t,s){this.light.position.set(e,t,s)}},{key:"updateColour",value:function(e,t){this.light.color.setHex(parseInt(e.substring(1),16)),this.light.intensity=.01*t}},{key:"setDefaultLights",value:function(e){switch(e){case"ambient":this.light=new g.a("#ffffff",.4);break;case"directional":this.light=new g.i("#ffffff",.5),this.light.position.set(-5,0,-5);break;case"point":this.light=new g.z("#ffffff",.6),this.light.position.set(5,0,5);break;default:O.a.error("Error: null light type selected")}}}]),e}();G.AMBIENT=0,G.DIRECTIONAL=1,G.POINT=2;var E=G,D=function(){function e(t,s){Object(l.a)(this,e),this.axes=[],this.size=t,this.colour=s,this.material=new g.q({color:this.colour,linewidth:3}),this.genAxes(),this.genSubgrid(),this.boundingShapeType="box",this.setsGeometry=null}return Object(h.a)(e,[{key:"genBoundingShape",value:function(e,t){if(this.boundingShapeType=e,this.boundingShape=null,null==this.setsGeometry){var s,i=[],a=Object(j.a)(t);try{for(a.s();!(s=a.n()).done;){var n,r=s.value,o=Object(j.a)(r.elements);try{for(o.s();!(n=o.n()).done;){var l=n.value;i.push(v.a.mergeBufferGeometries(l.geometries))}}catch(p){o.e(p)}finally{o.f()}}}catch(p){a.e(p)}finally{a.f()}this.setsGeometry=v.a.mergeBufferGeometries(i)}switch(e){case"box":var h=new g.b;this.setsGeometry.computeBoundingBox(),h.copy(this.setsGeometry.boundingBox),this.boundingShape=new g.c(h,this.colour);break;case"sphere":this.setsGeometry.computeBoundingSphere();var c=this.setsGeometry.boundingSphere,u=new g.C(c.radius,10,10);u.translate(c.center.x,c.center.y,c.center.z);var d=new g.t({color:this.colour});d.wireframe=!0,this.boundingShape=new g.s(u,d);break;case"cylinder":break;default:O.a.error("Error: Unknown bounding shape identifier")}return this.boundingShape}},{key:"updateColour",value:function(e){this.colour=e,this.material=new g.q({color:this.colour,linewidth:3}),this.genAxes(),this.genSubgrid()}},{key:"updateSize",value:function(e){this.size=e,this.genAxes(),this.genSubgrid()}},{key:"genSubgrid",value:function(){this.subGrid=new g.m(this.size,this.size,this.colour,this.colour)}},{key:"genAxes",value:function(){this.axes=[];var e=this.size/2;this.axes.push(new g.p((new g.e).setFromPoints([new g.K(-e,0,0),new g.K(e,0,0)]),this.material)),this.axes.push(new g.p((new g.e).setFromPoints([new g.K(0,-e,0),new g.K(0,e,0)]),this.material)),this.axes.push(new g.p((new g.e).setFromPoints([new g.K(0,0,-e),new g.K(0,0,e)]),this.material))}}]),e}(),A=function(){function e(){Object(l.a)(this,e),this.sets=[],this.gridEnabled=!1,this.axesEnabled=!1,this.boundingShapeEnabled=!1,this.sidebarExpanded=!1,this.cameraType="perspective",this.scene=new g.B,this.setDefault()}return Object(h.a)(e,[{key:"setDefault",value:function(){this.selectedSet=0,this.initClippers(),this.renderer=new g.L({antialias:!0,preserveDrawingBuffer:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.localClippingEnabled=!0,this.lookAt=new g.K(0,0,0),this.updateDimensions(),this.setCamera(this.cameraType),this.lighting=[new E("ambient"),new E("directional"),new E("point")],this.tools=new D(50,16777215),this.bgColour="#000000",this.renderer.setClearColor(this.bgColour);var e,t=Object(j.a)(this.lighting);try{for(t.s();!(e=t.n()).done;){var s=e.value;this.scene.add(s.light)}}catch(i){t.e(i)}finally{t.f()}this.scene.add(this.camera)}},{key:"getData",value:function(){var e={},t={};e.sets=[];var s,i=Object(j.a)(this.sets);try{for(i.s();!(s=i.n()).done;){var a=s.value;t.name=a.name,t.orientationType=a.orientationType,t.positions=a.positions,t.orientations=a.orientations,e.sets.push(t)}}catch(n){i.e(n)}finally{i.f()}return e}},{key:"update",value:function(){this.controls.update(),this.renderer.render(this.scene,this.camera)}},{key:"initClippers",value:function(){this.clippingIntersections=!1,this.clippingPlanes=[new g.x(new g.K(1,0,0),50),new g.x(new g.K(-1,0,0),50),new g.x(new g.K(0,1,0),50),new g.x(new g.K(0,-1,0),50),new g.x(new g.K(0,0,1),50),new g.x(new g.K(0,0,-1),50)],this.clippingHelpers=[new g.y(this.clippingPlanes[0],100,16711680),new g.y(this.clippingPlanes[1],100,16711680),new g.y(this.clippingPlanes[2],100,65280),new g.y(this.clippingPlanes[3],100,65280),new g.y(this.clippingPlanes[4],100,255),new g.y(this.clippingPlanes[5],100,255)];var e,t=Object(j.a)(this.clippingHelpers);try{for(t.s();!(e=t.n()).done;){var s=e.value;s.visible=!1,this.scene.add(s)}}catch(i){t.e(i)}finally{t.f()}}},{key:"toggleClipIntersection",value:function(e){var t,s=Object(j.a)(this.sets);try{for(s.s();!(t=s.n()).done;){t.value.toggleClipIntersection(e)}}catch(i){s.e(i)}finally{s.f()}}},{key:"toggleHelper",value:function(e,t){this.clippingHelpers[2*e].visible=t,this.clippingHelpers[2*e+1].visible=t}},{key:"updateSlicer",value:function(e,t){var s,i=Object(j.a)(this.sets);try{for(i.s();!(s=i.n()).done;){s.value.updateSlicers(e,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"updateDimensions",value:function(){this.height=window.innerHeight-56,this.sidebarExpanded?this.width=window.innerWidth-356:this.width=window.innerWidth-56,this.renderer.setSize(this.width,this.height)}},{key:"setCamera",value:function(e){this.camera="perspective"===e?new g.w(50,this.width/this.height,.1,1e3):new g.v(this.width/-2,this.width/2,this.height/2,this.height/-2,.01,1e4),this.camera.position.z=-30,this.controls=new m.a(this.camera,this.renderer.domElement),this.controls.target=this.lookAt}},{key:"updateCamera",value:function(){"perspective"===this.cameraType?this.camera.aspect=this.width/this.height:(this.camera.left=this.width/-2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=this.height/2),this.camera.updateProjectionMatrix()}},{key:"updateLookAt",value:function(e){this.lookAt=new g.K(e.x,e.y,e.z),this.controls.target=this.lookAt,this.controls.update()}},{key:"toggleSidebar",value:function(){this.sidebarExpanded=!this.sidebarExpanded,this.updateDimensions()}},{key:"updateBg",value:function(t){this.bgColour=e.rgbToHex(t.r,t.g,t.b),this.renderer.setClearColor(this.bgColour)}},{key:"toggleLight",value:function(e,t){this.lighting[e].visible=t}},{key:"updateLight",value:function(t,s){this.lighting[t].updateColour(e.rgbToHex(s.r,s.g,s.b),s.i)}},{key:"updateLightPosition",value:function(e,t){this.lighting[e].updatePosition(t.x,t.y,t.z)}},{key:"updateReferenceColour",value:function(t){var s=!1,i=!1,a=!1;this.gridEnabled&&(this.toggleGrid(),s=!0),this.axesEnabled&&(this.toggleAxes(),i=!0),this.boundingShapeEnabled&&(this.updateBoundingShape("",!1),a=!0),this.tools.updateColour(e.rgbToHex(t.r,t.g,t.b)),s&&this.toggleGrid(),i&&this.toggleAxes(),a&&(this.updateBoundingShape(this.tools.boundingShapeType,!0),a=!0)}},{key:"updateGridSize",value:function(e){var t=!1,s=!1;this.gridEnabled&&(this.toggleGrid(),t=!0),this.axesEnabled&&(this.toggleAxes(),s=!0),this.tools.updateSize(e),t&&this.toggleGrid(),s&&this.toggleAxes()}},{key:"toggleGrid",value:function(){this.gridEnabled=!this.gridEnabled,this.gridEnabled?this.scene.add(this.tools.subGrid):this.scene.remove(this.tools.subGrid)}},{key:"toggleAxes",value:function(){if(this.axesEnabled=!this.axesEnabled,this.axesEnabled){var e,t=Object(j.a)(this.tools.axes);try{for(t.s();!(e=t.n()).done;){var s=e.value;this.scene.add(s)}}catch(r){t.e(r)}finally{t.f()}}else{var i,a=Object(j.a)(this.tools.axes);try{for(a.s();!(i=a.n()).done;){var n=i.value;this.scene.remove(n)}}catch(r){a.e(r)}finally{a.f()}}}},{key:"toggleCameraRotation",value:function(){this.controls.autoRotate=!this.controls.autoRotate}},{key:"updateBoundingShape",value:function(e,t){this.boundingShapeEnabled=t,this.scene.remove(this.tools.boundingShape),t&&this.scene.add(this.tools.genBoundingShape(e,this.sets))}},{key:"getParameters",value:function(e){return L.getParameters(e)}},{key:"updateModel",value:function(e,t,s){var i,a=Object(j.a)(this.sets[e].meshes);try{for(a.s();!(i=a.n()).done;){var n=i.value;this.scene.remove(n)}}catch(h){a.e(h)}finally{a.f()}s.apply(void 0,Object(b.a)(t));var r,o=Object(j.a)(this.sets[e].meshes);try{for(o.s();!(r=o.n()).done;){var l=r.value;this.scene.add(l)}}catch(h){o.e(h)}finally{o.f()}}},{key:"updateLOD",value:function(e){for(var t=this,s=0;s<this.sets.length;s++)this.updateModel(s,[s,e],(function(e,s){t.sets[e].lod=s,t.sets[e].meshes=[],t.sets[e].genGeometries(),t.sets[e].setElements(),t.sets[e].genMeshes()}))}},{key:"updateUserColour",value:function(t,s){var i=this;this.updateModel(t,[t,s],(function(t,s){i.sets[t].meshes=[],i.sets[t].setUserColour(e.rgbToHex(s.r,s.g,s.b)),i.sets[t].genMeshes()}))}},{key:"updateShape",value:function(e,t,s){var i=this;this.updateModel(e,[e,t,s],(function(e,t,s){i.sets[e].meshes=[],i.sets[e].shapeType=t,i.sets[e].parameters=s.vals,i.sets[e].genGeometries(),i.sets[e].setElements(),i.sets[e].genMeshes()}))}},{key:"updateShininess",value:function(e,t){var s=this;this.updateModel(e,[e,t],(function(e,t){s.sets[e].meshes=[],s.sets[e].shininess=t,s.sets[e].genMeshes()}))}},{key:"toggleWireframe",value:function(e,t){var s=this;this.updateModel(e,[e,t],(function(e,t){s.sets[e].meshes=[],s.sets[e].wireframe=t,s.sets[e].genMeshes()}))}},{key:"toggleUserColour",value:function(e,t){var s=this;this.updateModel(e,[e,t],(function(e,t){s.sets[e].meshes=[],s.sets[e].colourByDirector=t,s.sets[e].genMeshes()}))}},{key:"genSets",value:function(e){var t,s=Object(j.a)(this.sets);try{for(s.s();!(t=s.n()).done;){var i,a=t.value,n=Object(j.a)(a.meshes);try{for(n.s();!(i=n.n()).done;){var r=i.value;this.scene.remove(r)}}catch(m){n.e(m)}finally{n.f()}}}catch(m){s.e(m)}finally{s.f()}this.sets=[];var o,l=Object(j.a)(e);try{for(l.s();!(o=l.n()).done;){var h=o.value;this.sets.push(new L(h,this.clippingPlanes,this.clippingIntersections))}}catch(m){l.e(m)}finally{l.f()}var c,u=Object(j.a)(this.sets);try{for(u.s();!(c=u.n()).done;){var d,p=c.value,b=Object(j.a)(p.meshes);try{for(b.s();!(d=b.n()).done;){var g=d.value;this.scene.add(g)}}catch(m){b.e(m)}finally{b.f()}}}catch(m){u.e(m)}finally{u.f()}}}],[{key:"rgbToHex",value:function(e,t,s){function i(e){var t=e.toString(16);return 1===t.length?"0"+t:t}return"#"+i(e)+i(t)+i(s)}}]),e}(),I=s(44),z=s(14),P=s(374),T=s(30),B=s(35),R=s(377),F=s(384),H=s(370),U=s(385),K=s(190),N=s(98),W=s(369),J=s(386),V=s(371),X=s(376),Y=s(380),Z=s(103),q=s(375),Q=s(381),_=s(382),$=s(368),ee=s(383),te=function(e){for(var t=[],s=0;s<e.titles.length;s++)t.push(Object(i.jsx)(se,{title:e.titles[s],values:e.values[s],numerical:!0,f:e.f,index:s,step:e.step,positive:e.positive}));return t},se=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).active=e.active,i.f=e.f,i.step=e.step,i.title=e.title,i.values=e.values,i.numerical=e.numerical,i.index=e.index,i.selectingSet=e.selectingSet,i.changeValue=i.changeValue.bind(Object(z.a)(i)),e.positive&&(i.min=0),i}return Object(h.a)(s,[{key:"changeValue",value:function(e){this.active=e,this.f(e,this.index)}},{key:"render",value:function(){var e;if(this.numerical){var t=this.values;e=Object(i.jsx)("div",{style:{width:130,marginLeft:10},children:Object(i.jsx)(q.a,{defaultValue:t,step:this.step,onChange:this.changeValue,min:this.min})})}else{var s,a,n=this.values,r=this.active,o=[],l=Object(j.a)(n);try{for(l.s();!(a=l.n()).done;){var h=a.value;s=!r.localeCompare(h),o.push(Object(i.jsx)(P.a.Item,{eventKey:h,active:s,onSelect:this.changeValue,children:h}))}}catch(c){l.e(c)}finally{l.f()}o.push(Object(i.jsx)(P.a.Item,{eventKey:"panel",panel:!0,style:{width:150}})),e=Object(i.jsx)(Y.a,{style:{width:10,marginLeft:0},children:Object(i.jsx)(P.a,{style:{width:200},title:this.active,children:o})})}return Object(i.jsx)("div",{children:Object(i.jsxs)(Q.a,{style:{marginTop:15},children:[Object(i.jsx)(_.a,{md:10,children:Object(i.jsx)("p",{style:{marginTop:10,marginLeft:30},children:this.title})}),Object(i.jsx)(_.a,{md:14}),Object(i.jsx)(_.a,{md:10,children:e})]})})}}]),s}(n.a.Component),ie=function(e){var t=n.a.useState(e.vals),s=Object(Z.a)(t,2),a=s[0],r=s[1],o=e.f,l=e.index;return Object(i.jsxs)("div",{children:[Object(i.jsx)("br",{}),Object(i.jsxs)(Q.a,{children:[Object(i.jsx)(_.a,{md:5,children:Object(i.jsx)("p",{style:{marginTop:10,marginLeft:30},children:e.title})}),Object(i.jsx)(_.a,{md:1}),Object(i.jsx)(_.a,{md:16,children:Object(i.jsxs)($.a,{children:[Object(i.jsx)(q.a,{min:-50,max:50,value:a[0],step:.1,onChange:function(e){var t=a[1];parseFloat(e)>t||(r([parseFloat(e),t]),o(l,[parseFloat(e),t]))}}),Object(i.jsx)($.a.Addon,{children:"to"}),Object(i.jsx)(q.a,{min:-50,max:50,value:a[1],step:.1,onChange:function(e){var t=a[0];t>parseFloat(e)||(r([t,parseFloat(e)]),o(l,[t,parseFloat(e)]))}})]})})]}),Object(i.jsx)(Q.a,{children:Object(i.jsx)(_.a,{md:21,children:Object(i.jsx)(ee.a,{min:-50,max:50,progress:!0,style:{marginLeft:35,marginTop:30},value:a,onChange:function(e){r(e),o(l,e)}})})})]})},ae=function(e){var t,s=e.f,n=Object(a.useState)(e.val),r=Object(Z.a)(n,2),o=r[0],l=r[1],h=e.disabled,c=Object(Z.a)(e.boundaries,2),u=c[0],d=c[1];return t=null==e.type?null:e.type,Object(i.jsxs)(Q.a,{children:[Object(i.jsx)(_.a,{md:10,children:Object(i.jsx)(W.a,{style:{marginLeft:25,marginTop:16,width:170},value:o,min:u,max:d,disabled:h,onChange:function(e){l(e),s(e,t)}})}),Object(i.jsx)(_.a,{md:4,children:Object(i.jsx)(q.a,{style:{marginLeft:80,marginTop:3,marginBottom:3,width:70,height:35},min:u,max:d,value:o,disabled:h,onChange:function(t){l(t),s(t,e.type)}})})]})},ne=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).dimensions=[1e3,1e3],i.f=e.f,i.updateDimensions=i.updateDimensions.bind(Object(z.a)(i)),i.export=i.export.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"updateDimensions",value:function(e,t){this.dimensions[t]=parseInt(e)}},{key:"export",value:function(){this.f.apply(this,Object(b.a)(this.dimensions))}},{key:"render",value:function(){return Object(i.jsxs)(P.a,{title:"Export",trigger:"click",placement:"bottomEnd",icon:Object(i.jsx)(T.a,{icon:"export"}),children:[Object(i.jsx)(P.a.Item,{panel:!0,style:{padding:5,width:250}}),Object(i.jsx)(te,{f:this.updateDimensions,titles:["Height","Width"],values:this.dimensions,step:5,positive:!0}),Object(i.jsx)(B.a,{style:{width:200,marginLeft:25,marginRight:25,marginTop:15,marginBottom:15},appearance:"primary",onClick:this.export,children:" Export "})]})}}]),s}(n.a.Component),re=function(e){var t=Object.assign({},e);return Object(i.jsxs)(P.a,Object(I.a)(Object(I.a)({},t),{},{children:[Object(i.jsx)(P.a.Item,{children:"File Type"}),Object(i.jsx)(P.a.Item,{divider:!0}),Object(i.jsx)(P.a.Item,{children:"Sample 1"}),Object(i.jsx)(P.a.Item,{children:"Sample 2"}),Object(i.jsx)(P.a.Item,{children:"Sample 3"}),Object(i.jsx)(P.a.Item,{children:"Sample 4"}),Object(i.jsx)(P.a.Item,{panel:!0,style:{padding:5,width:140}}),Object(i.jsx)(R.a,{justify:"center",children:Object(i.jsx)(B.a,{appearance:"primary",children:" Randomize "})}),Object(i.jsx)(P.a.Item,{panel:!0,style:{padding:5,width:140}})]}))},oe=function(e){var t=Object.assign({},e);return Object(i.jsxs)(P.a,Object(I.a)(Object(I.a)({},t),{},{children:[Object(i.jsx)(F.a,{style:{marginLeft:20,marginTop:20},layout:"inline",children:Object(i.jsxs)(H.a,{children:[Object(i.jsx)(U.a,{children:"Level of Detail"}),Object(i.jsx)(K.a,{placement:"bottom",trigger:"hover",speaker:Object(i.jsx)(N.a,{children:"Decreasing LOD will increase rendering speed."}),children:Object(i.jsx)(T.a,{icon:"question-circle",size:"lg"})})]})}),Object(i.jsx)(W.a,{min:1,step:1,max:5,defaultValue:4,graduated:!0,progress:!0,style:{width:200,marginLeft:30,marginRight:30,marginBottom:20},onChange:function(e){t.model.updateLOD(e-1)}}),Object(i.jsx)("br",{})]}))},le=function(e){var t=Object.assign({},e);return Object(i.jsx)("div",{children:Object(i.jsx)(J.a,{style:{height:56},children:Object(i.jsx)(V.a,{children:Object(i.jsxs)(V.a.Body,{children:[Object(i.jsx)(X.a,{pullRight:!0,children:Object(i.jsxs)(Y.a,{children:[Object(i.jsxs)(X.a.Item,{active:!0,children:["fps ",t.fps]}),Object(i.jsx)(X.a.Item,{appearance:"subtle",icon:Object(i.jsx)(T.a,{icon:"info-circle"}),children:"Manual"}),Object(i.jsx)(oe,{title:"Performance",trigger:"click",model:t.model,placement:"bottomEnd",icon:Object(i.jsx)(T.a,{icon:"dashboard"})}),Object(i.jsx)(re,{title:"Samples",trigger:"click",placement:"bottomEnd",icon:Object(i.jsx)(T.a,{icon:"folder-o"})}),Object(i.jsx)(ne,{f:t.functions[2]}),Object(i.jsx)(X.a.Item,{appearance:"subtle",icon:Object(i.jsx)(T.a,{icon:"file-download"}),onSelect:t.functions[0],children:"Save"}),Object(i.jsx)("input",{type:"file",id:"upload-btn",style:{display:"none"},className:"input-file",accept:".json,.webmga",onChange:function(e){return t.functions[1](e.target.files[0])}}),Object(i.jsx)("label",{for:"upload-btn",children:Object(i.jsx)(X.a.Item,{icon:Object(i.jsx)(T.a,{icon:"file-upload"}),children:"Upload"})})]})}),Object(i.jsx)(X.a,{pullLeft:!0,children:Object(i.jsx)("h6",{style:{padding:20},children:" WebMGA"})})]})})})})},he=s(191),ce=s(194),ue=s(390),de=s(387),pe=s(378),be=s(388),je=s(372),ge=s(389),me=30,fe={color:"#A4A9A3"},ve=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).state=Ae.state.model,i.model=e.model,i.selectShape=i.selectShape.bind(Object(z.a)(i)),i.selectSet=i.selectSet.bind(Object(z.a)(i)),i.updateParameter=i.updateParameter.bind(Object(z.a)(i)),i.toggleWireframe=i.toggleWireframe.bind(Object(z.a)(i)),i.toggleColour=i.toggleColour.bind(Object(z.a)(i)),i.updateShininess=i.updateShininess.bind(Object(z.a)(i)),i.updateUserColour=i.updateUserColour.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"updateShininess",value:function(e){this.setState({shininess:e}),Ae.state.model.configurations[this.state.active].shininess=e,this.model.updateShininess(this.state.active,e)}},{key:"updateUserColour",value:function(e,t){var s=this.state.configurations[this.state.active].colour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e;break;default:O.a.error("Error: Unexpected RGB Identifier")}this.model.updateUserColour(this.state.active,s),Ae.state.model.configurations[this.state.active].colour=s}},{key:"toggleColour",value:function(){var e=!this.state.configurations[this.state.active].colourFromDirector;this.setState({colourFromDirector:e}),Ae.state.model.configurations[this.state.active].colourFromDirector=e,this.model.toggleUserColour(this.state.active,e)}},{key:"toggleWireframe",value:function(){var e=!this.state.configurations[this.state.active].displayAsWireframe;this.setState({displayAsWireframe:e}),Ae.state.model.configurations[this.state.active].displayAsWireframe=e,this.model.toggleWireframe(this.state.active,e)}},{key:"updateParameter",value:function(e,t){var s=parseFloat(e),i=Ae.state.model.configurations[this.state.active];i.parameters.vals[t]=s;var a=this.state.configurations;a[this.state.active].parameters.vals[t]=s,this.setState({configurations:a}),this.model.updateShape(this.state.active,i.shape,i.parameters),this.reset()}},{key:"reset",value:function(){var e;e=this.state.reset>50?0:this.state.reset,this.setState({reset:++e})}},{key:"selectSet",value:function(e){for(var t=0;t<this.state.sets.length;t++)if(0===this.state.sets[t].localeCompare(e)){this.setState({active:t}),Ae.state.model.active=t;break}this.reset()}},{key:"selectShape",value:function(e){var t=this.model.getParameters(e);this.setState({shape:e,parameters:t}),this.reset(),Ae.state.model.configurations[this.state.active].shape=e,Ae.state.model.configurations[this.state.active].parameters=t,this.model.updateShape(this.state.active,e,t)}},{key:"render",value:function(){var e=this.state.configurations[this.state.active],t=this.state.reset,s=e.title,a=this.state.sets;return Object(i.jsxs)("div",{children:[Object(i.jsx)(de.a,{children:Object(i.jsx)("strong",{style:fe,children:" Configuration"})}),Object(i.jsx)(se,{f:this.selectSet,selectingSet:!0,title:"Set",values:a,active:s}),Object(i.jsx)(se,{f:this.selectShape,title:"Shape",values:["Ellipsoid","Sphere","Spherocylinder","Spheroplatelet","Cut Sphere","Cone","Cylinder","Torus"],active:e.shape}),Object(i.jsx)(te,{f:this.updateParameter,titles:e.parameters.names,values:e.parameters.vals,step:.1,positive:!0}),Object(i.jsx)("br",{}),Object(i.jsx)(de.a,{children:Object(i.jsx)("strong",{style:fe,children:"  Material "})}),Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsxs)(_.a,{xs:20,children:[Object(i.jsx)(pe.a,{checked:e.displayAsWireframe,onClick:this.toggleWireframe,children:" Display as Wireframe "}),Object(i.jsx)(pe.a,{checked:e.colourFromDirector,onClick:this.toggleColour,children:" Colour from Director "}),Object(i.jsx)("br",{})]})]}),Object(i.jsx)("p",{style:{marginLeft:me},children:" RGB "}),Object(i.jsx)(ae,{f:this.updateUserColour,disabled:e.colourFromDirector,boundaries:[0,255],val:e.colour.r,type:"r"}),Object(i.jsx)(ae,{f:this.updateUserColour,disabled:e.colourFromDirector,boundaries:[0,255],val:e.colour.g,type:"g"}),Object(i.jsx)(ae,{f:this.updateUserColour,disabled:e.colourFromDirector,boundaries:[0,255],val:e.colour.b,type:"b"}),Object(i.jsx)("p",{style:{marginLeft:me},children:" Shininess "}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,100],val:e.shininess,f:this.updateShininess})]},t)}}]),s}(n.a.Component),Oe=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).state=Ae.state.camera,i.model=e.model,i.toggleAutorotate=i.toggleAutorotate.bind(Object(z.a)(i)),i.selectCameraType=i.selectCameraType.bind(Object(z.a)(i)),i.updateLookat=i.updateLookat.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"toggleAutorotate",value:function(){this.setState({rotating:!this.state.rotating}),Ae.state.camera.rotating=!Ae.state.camera.rotating,this.model.toggleCameraRotation()}},{key:"selectCameraType",value:function(e){this.setState({type:e}),Ae.state.camera.cameraType=e,this.model.setCamera(e)}},{key:"updateLookat",value:function(e,t){var s=this.state.lookAt;switch(t){case 0:s.x=parseFloat(e);break;case 1:s.y=parseFloat(e);break;case 2:s.z=parseFloat(e);break;default:O.a.error("Error: Unexpected LookAt Identifier")}this.model.updateLookAt(s),Ae.state.camera.lookAt=s}},{key:"render",value:function(){var e=this.state.type,t=this.state.rotating,s=[this.state.lookAt.x,this.state.lookAt.y,this.state.lookAt.z];return console.log(s),Object(i.jsxs)("div",{children:[Object(i.jsx)(de.a,{children:Object(i.jsx)("strong",{style:fe,children:" Camera "})}),Object(i.jsxs)(be.a,{fluid:!0,children:[Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsx)(_.a,{xs:12,children:Object(i.jsx)(pe.a,{checked:t,onClick:this.toggleAutorotate,children:" AutoRotate"})})]}),Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:2}),Object(i.jsx)(_.a,{xs:12,children:Object(i.jsx)(H.a,{controlId:"radioList",children:Object(i.jsxs)(je.a,{name:"radioList",value:e,onChange:this.selectCameraType,children:[Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:"Type"}),Object(i.jsx)(ge.a,{defaultChecked:!0,value:"perspective",children:"Perspective "}),Object(i.jsx)(ge.a,{value:"orthographic",children:"Orthographic "})]})})})]}),Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:2}),Object(i.jsxs)(_.a,{xs:12,children:[Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:" Look at"})]})]})]}),Object(i.jsx)(te,{titles:["X position","Y position","Z position"],values:s,f:this.updateLookat,step:.5}),Object(i.jsx)("br",{})]})}}]),s}(n.a.Component),ye=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).state=Ae.state.slicing,i.model=e.model,i.toggleIntersection=i.toggleIntersection.bind(Object(z.a)(i)),i.toggleHelperX=i.toggleHelperX.bind(Object(z.a)(i)),i.toggleHelperY=i.toggleHelperY.bind(Object(z.a)(i)),i.toggleHelperZ=i.toggleHelperZ.bind(Object(z.a)(i)),i.updateHelpers=i.updateHelpers.bind(Object(z.a)(i)),i.updateSlicer=i.updateSlicer.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"toggleIntersection",value:function(){var e=!this.state.clipIntersection;this.setState({clipIntersection:e}),Ae.state.slicing.clipIntersection=e,this.model.toggleClipIntersection(e)}},{key:"updateHelpers",value:function(e){this.setState({helpers:e}),Ae.state.slicing.helpers=e}},{key:"toggleHelperX",value:function(){var e=this.state.helpers,t=!e[0];e[0]=t,this.updateHelpers(e),this.model.toggleHelper(0,t)}},{key:"toggleHelperY",value:function(){var e=this.state.helpers,t=!e[1];e[1]=t,this.updateHelpers(e),this.model.toggleHelper(1,t)}},{key:"toggleHelperZ",value:function(){var e=this.state.helpers,t=!e[2];e[2]=t,this.updateHelpers(e),this.model.toggleHelper(2,t)}},{key:"updateSlicer",value:function(e,t){switch(e){case 0:Ae.state.slicing.x=t;break;case 1:Ae.state.slicing.y=t;break;case 2:Ae.state.slicing.z=t;break;default:O.a.error("Error: Unexpected Slicing Identifier")}this.model.updateSlicer(e,t)}},{key:"render",value:function(){var e=this.state;return Object(i.jsxs)("div",{children:[Object(i.jsx)("br",{}),Object(i.jsx)(be.a,{fluid:!0,children:Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsx)(_.a,{xs:20,children:Object(i.jsx)(pe.a,{disabled:!0,checked:e.clipIntersection,onClick:this.toggleIntersection,children:" Slice Intersection"})})]})}),Object(i.jsx)(ie,{title:"X : ",f:this.updateSlicer,index:0,vals:e.x}),Object(i.jsx)("br",{}),Object(i.jsx)(be.a,{fluid:!0,children:Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsx)(_.a,{xs:12,children:Object(i.jsx)(pe.a,{checked:e.helpers[0],onClick:this.toggleHelperX,children:" Show Helper"})})]})}),Object(i.jsx)(ie,{title:"Y : ",f:this.updateSlicer,index:1,vals:e.y}),Object(i.jsx)("br",{}),Object(i.jsx)(be.a,{fluid:!0,children:Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsx)(_.a,{xs:12,children:Object(i.jsx)(pe.a,{checked:e.helpers[1],onClick:this.toggleHelperY,children:" Show Helper"})})]})}),Object(i.jsx)(ie,{title:"Z : ",f:this.updateSlicer,index:2,vals:e.z}),Object(i.jsx)("br",{}),Object(i.jsx)(be.a,{fluid:!0,children:Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsx)(_.a,{xs:12,children:Object(i.jsx)(pe.a,{checked:e.helpers[2],onClick:this.toggleHelperZ,children:" Show Helper"})})]})})]})}}]),s}(n.a.Component),xe=function(e){var t=e.active,s=e.onSelect;return Object(i.jsxs)(X.a,{activeKey:t,onSelect:s,style:{margin:10,width:280},justified:!0,appearance:"tabs",children:[Object(i.jsx)(X.a.Item,{eventKey:"point",children:"Point"}),Object(i.jsx)(X.a.Item,{eventKey:"directional",children:"Directional"})]})},ke=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).state=Ae.state.pointLight,i.model=e.model,i.reset=0,i.handleSelect=i.handleSelect.bind(Object(z.a)(i)),i.updateColour=i.updateColour.bind(Object(z.a)(i)),i.updatePosition=i.updatePosition.bind(Object(z.a)(i)),i.toggleLightEnabled=i.toggleLightEnabled.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"handleSelect",value:function(){0===this.state.active.localeCompare("point")?this.setState(Ae.state.directionalLight):this.setState(Ae.state.pointLight),this.reset>5&&(this.reset=0),this.setState({reset:++this.reset})}},{key:"toggleLightEnabled",value:function(){var e,t=!this.state.enabled;this.setState({enabled:t}),0===this.state.active.localeCompare("point")?(Ae.state.pointLight.enabled=t,e=Ae.state.pointLight.colour.i):(Ae.state.directionalLight.enabled=t,e=Ae.state.directionalLight.colour.i),t?this.updateColour(e,"i"):this.updateColour(0,"i"),this.setState({reset:++this.reset}),0===this.state.active.localeCompare("point")?Ae.state.pointLight.colour.i=e:Ae.state.directionalLight.colour.i=e}},{key:"updateColour",value:function(e,t){var s=this.state.colour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e;break;case"i":s.i=e;break;default:O.a.error("Error: Unexpected RGB Identifier")}0===this.state.active.localeCompare("point")?(this.model.updateLight(2,s),Ae.state.pointLight.colour=s):(this.model.updateLight(1,s),Ae.state.directionalLight.colour=s)}},{key:"updatePosition",value:function(e,t){var s=this.state.position;switch(t){case"x":s.x=e;break;case"y":s.y=e;break;case"z":s.z=e;break;default:O.a.error("Error: Unexpected Position Identifier")}0===this.state.active.localeCompare("point")?(this.model.updateLightPosition(2,s),Ae.state.pointLight.position=s):(this.model.updateLightPosition(1,s),Ae.state.directionalLight.position=s)}},{key:"render",value:function(){var e=this.state.active,t=this.state;return Object(i.jsxs)("div",{children:[Object(i.jsx)("br",{}),Object(i.jsx)(xe,{active:e,onSelect:this.handleSelect}),Object(i.jsx)("br",{}),Object(i.jsx)(be.a,{fluid:!0,children:Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsxs)(_.a,{xs:12,children:[Object(i.jsxs)(pe.a,{checked:t.enabled,onClick:this.toggleLightEnabled,children:[" ",Object(i.jsx)("strong",{children:"Enabled "})," "]}),Object(i.jsx)("br",{})]})]})}),Object(i.jsx)("p",{style:{marginLeft:me},children:" RGB "}),Object(i.jsx)(ae,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.r,f:this.updateColour,type:"r"}),Object(i.jsx)(ae,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.g,f:this.updateColour,type:"g"}),Object(i.jsx)(ae,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.b,f:this.updateColour,type:"b"}),Object(i.jsx)("p",{style:{marginLeft:me},children:" Intensity "}),Object(i.jsx)(ae,{disabled:!t.enabled,boundaries:[0,100],val:t.colour.i,f:this.updateColour,type:"i"}),Object(i.jsx)("p",{style:{marginLeft:me},children:" Position XYZ "}),Object(i.jsx)(ae,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.x,f:this.updatePosition,type:"x"}),Object(i.jsx)(ae,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.y,f:this.updatePosition,type:"y"}),Object(i.jsx)(ae,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.z,f:this.updatePosition,type:"z"})]},t.reset)}}]),s}(n.a.Component),Se=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).state=Ae.state.ambientLight,i.model=e.model,i.updateAmbientLightColour=i.updateAmbientLightColour.bind(Object(z.a)(i)),i.updateBackgroundColour=i.updateBackgroundColour.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"updateAmbientLightColour",value:function(e,t){var s=this.state.ambientLightColour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e;break;case"i":s.i=e;break;default:O.a.error("Error: Unexpected RGB Identifier")}this.model.updateLight(0,s),Ae.state.ambientLight.ambientLightColour=s}},{key:"updateBackgroundColour",value:function(e,t){var s=this.state.backgroundColour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e;break;default:O.a.error("Error: Unexpected RGB Identifier")}this.model.updateBg(s),Ae.state.ambientLight.backgroundColour=s}},{key:"render",value:function(){var e=this.state.ambientLightColour,t=this.state.backgroundColour;return Object(i.jsxs)("div",{children:[Object(i.jsx)(de.a,{children:Object(i.jsx)("strong",{style:fe,children:" Ambient Light "})}),Object(i.jsx)("p",{style:{marginLeft:me},children:" RGB "}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:e.r,f:this.updateAmbientLightColour,type:"r"}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:e.g,f:this.updateAmbientLightColour,type:"g"}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:e.b,f:this.updateAmbientLightColour,type:"b"}),Object(i.jsx)("p",{style:{marginLeft:me},children:" Intensity "}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,100],val:e.i,f:this.updateAmbientLightColour,type:"i"}),Object(i.jsx)(de.a,{children:Object(i.jsx)("strong",{style:fe,children:" Background Colour"})}),Object(i.jsx)("p",{style:{marginLeft:me},children:" RGB "}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:t.r,f:this.updateBackgroundColour,type:"r"}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:t.g,f:this.updateBackgroundColour,type:"g"}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:t.b,f:this.updateBackgroundColour,type:"b"})]})}}]),s}(n.a.Component),we=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this)).state=Ae.state.reference,i.model=e.model,i.toggleBoundingShapeEnabled=i.toggleBoundingShapeEnabled.bind(Object(z.a)(i)),i.selectShape=i.selectShape.bind(Object(z.a)(i)),i.toggleAxes=i.toggleAxes.bind(Object(z.a)(i)),i.toggleGrid=i.toggleGrid.bind(Object(z.a)(i)),i.updateColour=i.updateColour.bind(Object(z.a)(i)),i.updateGridSize=i.updateGridSize.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"updateColour",value:function(e,t){var s=this.state.gridColour;switch(t){case"r":s.r=e;break;case"g":s.g=e;break;case"b":s.b=e;break;default:O.a.error("Error: Unexpected RGB Identifier")}this.model.updateReferenceColour(s),Ae.state.reference.gridColour=s}},{key:"updateGridSize",value:function(e){this.model.updateGridSize(e),Ae.state.reference.size=e}},{key:"toggleBoundingShapeEnabled",value:function(){var e=!Ae.state.reference.boundingShapeEnabled;this.setState({boundingShapeEnabled:e}),Ae.state.reference.boundingShapeEnabled=e,this.model.updateBoundingShape(this.state.activeShape,e)}},{key:"selectShape",value:function(e){this.setState({activeShape:e}),Ae.state.reference.activeShape=e,this.model.updateBoundingShape(e,this.state.boundingShapeEnabled)}},{key:"toggleAxes",value:function(){this.setState({showAxes:!this.state.showAxes}),this.model.toggleAxes(),Ae.state.reference.showAxes=!Ae.state.reference.showAxes}},{key:"toggleGrid",value:function(){this.setState({showGrid:!this.state.showGrid}),this.model.toggleGrid(),Ae.state.reference.showGrid=!Ae.state.reference.showGrid}},{key:"render",value:function(){var e=this.state.boundingShapeEnabled,t=this.state.activeShape,s=this.state.showAxes,a=this.state.showGrid,n=this.state.gridColour,r=this.state.size;return Object(i.jsxs)("div",{children:[Object(i.jsx)(de.a,{children:Object(i.jsx)("strong",{style:fe,children:" Elements "})}),Object(i.jsxs)(be.a,{fluid:!0,children:[Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsx)(_.a,{xs:12,children:Object(i.jsx)(pe.a,{checked:e,onClick:this.toggleBoundingShapeEnabled,children:" Bounding Shape "})})]}),Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:3}),Object(i.jsx)(_.a,{xs:12,children:Object(i.jsx)(H.a,{controlId:"radioList",children:Object(i.jsxs)(je.a,{name:"radioList",value:t,onChange:this.selectShape,children:[Object(i.jsx)(ge.a,{disabled:!e,value:"box",children:"Box "}),Object(i.jsx)(ge.a,{disabled:!e,value:"sphere",children:"Sphere "}),Object(i.jsx)(ge.a,{disabled:!0,value:"cylinder",children:"Cylinder "})]})})})]}),Object(i.jsx)("br",{}),Object(i.jsxs)(Q.a,{className:"show-grid",children:[Object(i.jsx)(_.a,{xs:1}),Object(i.jsxs)(_.a,{xs:12,children:[Object(i.jsx)(pe.a,{checked:s,onClick:this.toggleAxes,children:" Show Axes"}),Object(i.jsx)(pe.a,{checked:a,onClick:this.toggleGrid,children:" Show Grid"})]})]}),Object(i.jsx)("p",{style:{marginLeft:me},children:" Size "}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,100],val:r,f:this.updateGridSize})]}),Object(i.jsx)(de.a,{children:Object(i.jsx)("strong",{style:fe,children:" Colour "})}),Object(i.jsx)("p",{style:{marginLeft:me},children:" RGB "}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:n.r,f:this.updateColour,type:"r"}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:n.g,f:this.updateColour,type:"g"}),Object(i.jsx)(ae,{disabled:!1,boundaries:[0,255],val:n.b,f:this.updateColour,type:"b"}),Object(i.jsx)("br",{})]})}}]),s}(n.a.Component),Ce=function(e){var t=e.expand,s=e.onChange;return Object(i.jsx)(V.a,{appearance:"subtle",className:"nav-toggle",children:Object(i.jsx)(V.a.Body,{children:Object(i.jsx)(X.a,{pullRight:!0,children:Object(i.jsx)(ce.a,{circle:!0,style:{textAlign:"center",margin:10},onClick:s,appearance:"default",icon:Object(i.jsx)(T.a,{icon:t?"angle-left":"angle-right"})})})})})},Me={margin:6.5},Le=window.innerHeight-56,Ge=function(e){var t=e.active,s=e.onSelect,a=Object(he.a)(e,["active","onSelect"]);return Object(i.jsx)("div",{children:Object(i.jsxs)(X.a,Object(I.a)(Object(I.a)({},a),{},{activeKey:t,onSelect:s,style:{backgroundColor:"#101010",height:Le},children:[Object(i.jsx)(X.a.Item,{title:"Models",tooltip:!0,eventKey:"Models",icon:Object(i.jsx)(T.a,{style:Me,size:"lg",icon:"shapes"})}),Object(i.jsx)(X.a.Item,{eventKey:"View",icon:Object(i.jsx)(T.a,{style:Me,size:"lg",icon:"eye"})}),Object(i.jsx)(X.a.Item,{eventKey:"Ambient Light",icon:Object(i.jsx)(T.a,{style:Me,size:"lg",icon:"sun-o"})}),Object(i.jsx)(X.a.Item,{eventKey:"Other Lighting",icon:Object(i.jsx)(T.a,{style:Me,size:"lg",icon:"creative"})}),Object(i.jsx)(X.a.Item,{eventKey:"Slicing",icon:Object(i.jsx)(T.a,{style:Me,size:"lg",icon:"cut"})}),Object(i.jsx)(X.a.Item,{eventKey:"Reference",icon:Object(i.jsx)(T.a,{style:Me,size:"lg",icon:"cube"})})]}))})},Ee=function(e){var t=e.active,s=e.expand,a=e.onChange,n=e.model,r=[];if(s?r.push(Object(i.jsx)("div",{style:{backgroundColor:"#0F131B"},children:Object(i.jsx)(X.a,{children:Object(i.jsxs)(V.a,{appearance:"subtle",children:[Object(i.jsx)(X.a,{pullLeft:!0,children:Object(i.jsx)("h3",{style:{marginTop:15,marginLeft:30},children:t})}),Object(i.jsx)(X.a,{pullRight:!0,children:Object(i.jsx)(Ce,{expand:s,onChange:a})})]})})})):r.push(Object(i.jsx)(Ce,{expand:s,onChange:a})),s)switch(t){case"Models":r.push(Object(i.jsx)(ve,{model:n}));break;case"View":r.push(Object(i.jsx)(Oe,{model:n}));break;case"Ambient Light":r.push(Object(i.jsx)(Se,{model:n}));break;case"Other Lighting":r.push(Object(i.jsx)(ke,{model:n}));break;case"Slicing":r.push(Object(i.jsx)(ye,{model:n}));break;case"Reference":r.push(Object(i.jsx)(we,{model:n}));break;default:O.a.error("Error: Unknown Submenu Identifier")}return r},De=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this,e)).state={expand:e.sidebarExpanded,active:"Models"},i.model=e.model,i.handleToggle=i.handleToggle.bind(Object(z.a)(i)),i.handleSelect=i.handleSelect.bind(Object(z.a)(i)),i}return Object(h.a)(s,[{key:"handleToggle",value:function(){this.setState({expand:!this.state.expand}),this.model.toggleSidebar()}},{key:"handleSelect",value:function(e){this.setState({active:e}),this.state.expand||this.handleToggle()}},{key:"render",value:function(){var e=this.state.expand,t=this.state.active;return Object(i.jsx)("div",{children:Object(i.jsx)(ue.a,{style:{display:"flex",flexDirection:"column"},width:e?356:56,collapsible:!0,appearance:"default",children:Object(i.jsxs)(d.a,{children:[Object(i.jsx)(ue.a,{width:56,children:Object(i.jsx)(Ge,{vertical:!0,appearance:"subtle",active:t,onSelect:this.handleSelect})}),Object(i.jsx)(p.a,{children:Object(i.jsx)(Ee,{active:t,expand:e,onChange:this.handleToggle,model:this.model})})]})})})}}]),s}(a.Component),Ae=function(){function e(t,s){Object(l.a)(this,e),this.ModelDefaultState={active:0,reset:0,sets:[],configurations:[]},this.SlicingDefaultState={clipIntersection:!1,helpers:[!1,!1,!1],x:[-50,50],y:[-50,50],z:[-50,50]},this.ConfigurationDefaultState={title:"",shape:"Ellipsoid",parameters:{names:["X","Y","Z"],vals:[.5,.2,.2]},colour:{r:255,g:255,b:255},shininess:30,colourFromDirector:!0,displayAsWireframe:!0},this.CameraDefaultState={rotating:!1,type:"perspective",lookAt:{x:0,y:0,z:0}},this.PointLightDefaultState={reset:0,active:"point",enabled:!0,colour:{r:255,g:255,b:255,i:60},position:{x:5,y:0,z:5}},this.DirectionalLightDefaultState={reset:0,active:"directional",enabled:!0,colour:{r:255,g:255,b:255,i:50},position:{x:-5,y:0,z:-5}},this.ReferenceDefaultState={boundingShapeEnabled:!1,activeShape:"box",showAxes:!1,showGrid:!1,gridColour:{r:255,g:255,b:255},size:50},this.AmbientLightDefaultState={ambientLightColour:{r:255,g:255,b:255,i:40},backgroundColour:{r:0,g:0,b:0}},e.state={},this.expanded=!1,this.model=t,this.header=Object(i.jsx)(le,{fps:60,functions:s,model:this.model}),this.sidebar=Object(i.jsx)(De,{model:this.model,sidebarExpanded:this.expanded})}return Object(h.a)(e,[{key:"getData",value:function(){return e.state}},{key:"setState",value:function(t){e.state=t,this.loadLightingAndCamera(t),this.loadReferenceAndSlicing(t),this.loadModel(t)}},{key:"loadModel",value:function(e){var t;for(var s in e.model.configurations)t=e.model.configurations[s],this.model.updateShininess(s,t.shininess),this.model.updateUserColour(s,t.colour),this.model.toggleUserColour(s,t.colourFromDirector),this.model.toggleWireframe(s,t.displayAsWireframe),this.model.updateShape(s,t.shape,t.parameters)}},{key:"xor",value:function(e,t){return e&&!t||!e&&t}},{key:"loadReferenceAndSlicing",value:function(e){this.xor(this.model.gridEnabled,e.reference.showGrid)&&this.model.toggleGrid(),this.xor(this.model.axesEnabled,e.reference.showAxes)&&this.model.toggleAxes(),this.model.updateReferenceColour(e.reference.gridColour),this.model.updateGridSize(e.reference.size),this.model.updateBoundingShape(e.reference.activeShape,e.reference.boundingShapeEnabled),this.model.toggleClipIntersection(e.slicing.clipIntersection),this.model.toggleHelper(0,e.slicing.helpers[0]),this.model.toggleHelper(1,e.slicing.helpers[1]),this.model.toggleHelper(2,e.slicing.helpers[2]),this.model.updateSlicer(0,e.slicing.x),this.model.updateSlicer(1,e.slicing.y),this.model.updateSlicer(2,e.slicing.z)}},{key:"loadLightingAndCamera",value:function(e){var t=JSON.parse(JSON.stringify(e.directionalLight.colour)),s=JSON.parse(JSON.stringify(e.pointLight.colour));e.directionalLight.enabled||(t.i=0),e.pointLight.enabled||(s.i=0),this.model.updateBg(e.ambientLight.backgroundColour),this.model.updateLight(0,e.ambientLight.ambientLightColour),this.model.updateLight(1,t),this.model.updateLight(2,s),this.model.updateLightPosition(1,e.directionalLight.position),this.model.updateLightPosition(2,e.pointLight.position),this.model.controls.autoRotate=e.camera.rotating,this.model.setCamera(e.camera.type),this.model.updateLookAt(e.camera.lookAt)}},{key:"setDefaultStates",value:function(){for(var t in e.state.reference=this.ReferenceDefaultState,e.state.ambientLight=this.AmbientLightDefaultState,e.state.pointLight=this.PointLightDefaultState,e.state.directionalLight=this.DirectionalLightDefaultState,e.state.camera=this.CameraDefaultState,e.state.slicing=this.SlicingDefaultState,e.state.model=this.ModelDefaultState,this.model.sets){var s=JSON.parse(JSON.stringify(this.ConfigurationDefaultState));s.title=this.model.sets[t].name,e.state.model.sets.push(s.title),e.state.model.configurations.push(s)}}}]),e}(),Ie=s(193),ze=s(392),Pe=function e(){var t=this;Object(l.a)(this,e),this.start=function(){t.addListeners(),t.generate(Ie),t.render()},this.download=function(e,t,s){var i=new Blob([e],{type:s});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,t);else{var a=document.createElement("a"),n=URL.createObjectURL(i);a.href=n,a.download=t,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(n)}),0)}},this.save=function(){var e={};e.model=t.model.getData(),e.state=t.view.getData(),t.download(JSON.stringify(e),"visualisation.webmga","application/json")},this.generate=function(e){t.view.expanded=!1,t.model.genSets(e.model.sets),null==e.state?(O.a.info("Set default viewing state."),t.view.setDefaultStates()):t.view.setState(e.state)},this.load=function(e){var s=new FileReader;s.onloadend=function(){var e=JSON.parse(s.result);try{t.generate(e)}catch(i){O.a.error(i)}},s.readAsText(e)},this.export=function(e,s){t.model.camera.aspect=s/e,t.model.camera.updateProjectionMatrix(),t.model.renderer.setSize(s,e),t.model.renderer.render(t.model.scene,t.model.camera);var a=t.model.renderer.domElement.toDataURL("image/png",1).replace("image/png","image/octet-stream"),n=document.createElement("a");n.download="hey.png",n.href=a,n.click(),t.model.updateDimensions(),t.model.updateCamera(),ze.a.success({title:"Thank you!",placement:"bottomEnd",description:Object(i.jsx)("p",{style:{width:320},children:"Please cite us! www.google.com"})})},this.getHeader=function(){return t.view.header},this.getSiderbar=function(){return t.view.sidebar},this.getDomElement=function(){return t.model.renderer.domElement},this.render=function(){t.model.update(),requestAnimationFrame(t.render)},this.addListeners=function(){document.body.style.overflow="hidden",window.addEventListener("resize",(function(){t.model.updateDimensions(),t.model.updateCamera()})),document.addEventListener("fullscreenchange",(function(){t.model.updateDimensions(),t.model.updateCamera()})),document.body.onkeydown=function(e){e.keyCode}},this.io=[this.save,this.load,this.export],this.model=new A,this.view=new Ae(this.model,this.io),O.a.config({top:70,duration:6e3})},Te=function(e){Object(c.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(l.a)(this,s),(i=t.call(this,e)).controller=new Pe,i.state={header:i.controller.getHeader(),sidebar:i.controller.getSiderbar()},i}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.mount.appendChild(this.controller.getDomElement()),this.controller.start()}},{key:"render",value:function(){var e=this,t=this.state.header,s=this.state.sidebar;return Object(i.jsx)("div",{children:Object(i.jsxs)(d.a,{children:[t,Object(i.jsxs)(d.a,{children:[s,Object(i.jsx)(p.a,{children:Object(i.jsx)("div",{ref:function(t){return e.mount=t}})})]})]})})}}]),s}(a.Component);o.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(Te,{})}),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.25355cf2.chunk.js.map