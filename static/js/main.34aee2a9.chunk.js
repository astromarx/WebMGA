(this.webpackJsonpwebmga=this.webpackJsonpwebmga||[]).push([[0],{361:function(e,t,a){"use strict";a.r(t);var s=a(2),i=a(1),n=a.n(i),r=a(53),h=a.n(r),c=a(7),l=a(9),o=a(10),u=a(11),d=(a(135),a(371)),p=a(390),b=a(21),j=a(8),O=a(179),g=a(13),m=a(98),x=function(){function e(){Object(c.a)(this,e),this.levels=2,this.maxComplexity=[20,20],this.minComplexity=[5,5],this.stripGeometries=[],this.fanGeometries=[],this.args=arguments[0]}return Object(l.a)(e,[{key:"translate",value:function(e,t,a){var s,i=Object(b.a)(this.fanGeometries);try{for(i.s();!(s=i.n()).done;){s.value.translate(e,t,a)}}catch(n){i.e(n)}finally{i.f()}this.stripGeometry.translate(e,t,a)}},{key:"rotate",value:function(e){var t,a=Object(b.a)(this.fanGeometries);try{for(a.s();!(t=a.n()).done;){t.value.rotateX(e.x)}}catch(h){a.e(h)}finally{a.f()}this.stripGeometry.rotateX(e.x);var s,i=Object(b.a)(this.fanGeometries);try{for(i.s();!(s=i.n()).done;){s.value.rotateY(e.y)}}catch(h){i.e(h)}finally{i.f()}this.stripGeometry.rotateY(e.y);var n,r=Object(b.a)(this.fanGeometries);try{for(r.s();!(n=r.n()).done;){n.value.rotateY(e.z)}}catch(h){r.e(h)}finally{r.f()}this.stripGeometry.rotateY(e.z)}},{key:"addGeometry",value:function(e,t,a){var s=new j.c;s.setAttribute("position",new j.b(Float32Array.from(e),3)),s.setAttribute("normal",new j.b(Float32Array.from(t),3)),0==a.localeCompare("strip")?(s=m.a.toTrianglesDrawMode(s,j.w),this.stripGeometries.push(s)):(s=m.a.toTrianglesDrawMode(s,j.v),this.fanGeometries.push(s))}},{key:"mergeGeometries",value:function(){this.stripGeometry=m.a.mergeBufferGeometries(this.stripGeometries)}}],[{key:"normalize",value:function(e,t){void 0!=t&&(e[0]/=Math.pow(t[0],2),e[1]/=Math.pow(t[1],2),e[2]/=Math.pow(t[2],2));var a=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return e=e.map((function(e){return e/a}))}}]),e}(),v=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this,arguments)).genGeometries(),e.mergeGeometries(),e}return Object(l.a)(a,[{key:"genGeometries",value:function(){for(var e,t,a,s,i=[],n=[],r=this.args,h=[],c=[],l=[],o=0;o<this.levels;++o){i.push(this.maxComplexity[0]+o*((this.minComplexity[0]-this.maxComplexity[0])/(this.levels-1))),i.push(this.maxComplexity[1]+o*((this.minComplexity[1]-this.maxComplexity[1])/(this.levels-1))),n.push(2*Math.PI/i[0]),n.push(Math.PI/(2*(i[1]+1)));for(var u=0;u<2*i[1];++u)for(var d=0;d<i[0]+1;++d){var p,b,j,O;0==d||d==i[0]?(l.push(-r[0]*Math.sin((u+1)*n[1])),l.push(0)):(l.push(-Math.cos(d*n[0])*r[0]*Math.sin((u+1)*n[1])),l.push(-Math.sin(d*n[0])*r[1]*Math.sin((u+1)*n[1]))),l.push(Math.cos((u+1)*n[1])*r[2]),(p=h).push.apply(p,Object(g.a)(l)),(b=c).push.apply(b,Object(g.a)(x.normalize(l,r))),l=[],0==d||d==i[0]?(l.push(-r[0]*Math.sin((u+2)*n[1])),l.push(0)):(l.push(-Math.cos(d*n[0])*r[0]*Math.sin((u+2)*n[1])),l.push(-Math.sin(d*n[0])*r[1]*Math.sin((u+2)*n[1]))),l.push(Math.cos((u+2)*n[1])*r[2]),(j=h).push.apply(j,Object(g.a)(l)),(O=c).push.apply(O,Object(g.a)(x.normalize(l,r))),l=[]}}this.addGeometry(h,c,"strip"),h=[],c=[],l.push(0),l.push(0),l.push(r[2]),(e=h).push.apply(e,Object(g.a)(l)),(t=c).push.apply(t,Object(g.a)(x.normalize(l,r))),l=[];for(d=0;d<i[0]+1;++d){var m,v;0==d||d==i[0]?(l.push(-r[0]*Math.sin(n[1])),l.push(0)):(l.push(-Math.cos(d*n[0])*r[0]*Math.sin(n[1])),l.push(-Math.sin(d*n[0])*r[1]*Math.sin(n[1]))),l.push(Math.cos(n[1])*r[2]),(m=h).push.apply(m,Object(g.a)(l)),(v=c).push.apply(v,Object(g.a)(x.normalize(l,r))),l=[]}this.addGeometry(h,c,"fan"),h=[],c=[],l.push(0),l.push(0),l.push(-r[2]),(a=h).push.apply(a,Object(g.a)(l)),(s=c).push.apply(s,Object(g.a)(x.normalize(l,r))),l=[];for(d=i[0];d>=0;--d){var f,y;0==d||d==i[0]?(l.push(-r[0]*Math.sin(n[1])),l.push(0)):(l.push(-Math.cos(d*n[0])*r[0]*Math.sin(n[1])),l.push(-Math.sin(d*n[0])*r[1]*Math.sin(n[1]))),l.push(-Math.cos(n[1])*r[2]),(f=h).push.apply(f,Object(g.a)(l)),(y=c).push.apply(y,Object(g.a)(x.normalize(l,r))),l=[]}this.addGeometry(h,c,"fan")}}]),a}(x),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this,arguments)).genGeometries(),e.mergeGeometries(),e}return Object(l.a)(a,[{key:"genGeometries",value:function(){for(var e,t,a=[],s=[],i=this.args[0],n=this.args[1],r=[],h=0;h<this.levels;++h){var c,l,o,u;a.push(this.maxComplexity[0]+h*((this.minComplexity[0]-this.maxComplexity[0])/(this.levels-1))),a.push(a[0]/4),s.push(2*Math.PI/a[0]),s.push(2*Math.PI/(4*a[1]));for(var d=0;d<a[1]-1;++d){e=[],t=[];for(var p=0;p<=a[0];++p){var b,j,O,m;0==p||p==a[0]?(r.push(-Math.sin((d+1)*s[1])*i),r.push(0)):(r.push(-Math.cos(p*s[0])*Math.sin((d+1)*s[1])*i),r.push(-Math.sin(p*s[0])*Math.sin((d+1)*s[1])*i)),r.push(Math.cos((d+1)*s[1])*i),(b=t).push.apply(b,Object(g.a)(x.normalize(r))),r[2]+=n/2,(j=e).push.apply(j,Object(g.a)(r)),r=[],0==p||p==a[0]?(r.push(-Math.sin((d+2)*s[1])*i),r.push(0)):(r.push(-Math.cos(p*s[0])*Math.sin((d+2)*s[1])*i),r.push(-Math.sin(p*s[0])*Math.sin((d+2)*s[1])*i)),r.push(Math.cos((d+2)*s[1])*i),(O=t).push.apply(O,Object(g.a)(x.normalize(r))),r[2]+=n/2,(m=e).push.apply(m,Object(g.a)(r)),r=[]}this.addGeometry(e,t,"strip")}for(var v=a[1]-1;v<2*(a[1]-1);++v){e=[],t=[];for(var f=0;f<=a[0];++f){var y,k,w,S;0==f||f==a[0]?(r.push(-Math.sin((v+1)*s[1])*i),r.push(0)):(r.push(-Math.cos(f*s[0])*Math.sin((v+1)*s[1])*i),r.push(-Math.sin(f*s[0])*Math.sin((v+1)*s[1])*i)),r.push(Math.cos((v+1)*s[1])*i),(y=t).push.apply(y,Object(g.a)(x.normalize(r))),r[2]-=n/2,(k=e).push.apply(k,Object(g.a)(r)),r=[],0==f||f==a[0]?(r.push(-1*Math.sin((v+2)*s[1])*i),r.push(0)):(r.push(-Math.cos(f*s[0])*Math.sin((v+2)*s[1])*i),r.push(-Math.sin(f*s[0])*Math.sin((v+2)*s[1])*i)),r.push(Math.cos((v+2)*s[1])*i),(w=t).push.apply(w,Object(g.a)(x.normalize(r))),r[2]-=n/2,(S=e).push.apply(S,Object(g.a)(r)),r=[]}this.addGeometry(e,t,"strip")}t=[],e=[];for(var C=0;C<=a[0];++C){var M,L,G,z;0==C||C==a[0]?(r.push(-i),r.push(0)):(r.push(-Math.cos(C*s[0])*i),r.push(-Math.sin(C*s[0])*i)),r.push(0),(M=t).push.apply(M,Object(g.a)(x.normalize(r))),r[2]+=n/2,(L=e).push.apply(L,Object(g.a)(r)),r[2]=0,(G=t).push.apply(G,Object(g.a)(x.normalize(r))),r[2]-=n/2,(z=e).push.apply(z,Object(g.a)(r)),r=[]}this.addGeometry(e,t,"strip"),t=[],e=[],r[0]=0,r[1]=0,r[2]=i,(c=t).push.apply(c,Object(g.a)(x.normalize(r))),r[2]+=n/2,(l=e).push.apply(l,Object(g.a)(r)),r=[];for(var A=0;A<=a[0];++A){var E,D;0==A||A==a[0]?(r.push(-Math.sin(s[1])*i),r.push(0)):(r.push(-Math.cos(A*s[0])*Math.sin(s[1])*i),r.push(-Math.sin(A*s[0])*Math.sin(s[1])*i)),r.push(Math.cos(s[1])*i),(E=t).push.apply(E,Object(g.a)(x.normalize(r))),r[2]+=n/2,(D=e).push.apply(D,Object(g.a)(r)),r=[]}this.addGeometry(e,t,"fan"),t=[],e=[],r[0]=0,r[1]=0,r[2]=-i,(o=t).push.apply(o,Object(g.a)(x.normalize(r))),r[2]-=n/2,(u=e).push.apply(u,Object(g.a)(r)),r=[];for(var I=a[0];I>=0;--I){var P,T;0==I||I==a[0]?(r.push(-Math.sin(s[1])*i),r.push(0)):(r.push(-Math.cos(I*s[0])*Math.sin(s[1])*i),r.push(-Math.sin(I*s[0])*Math.sin(s[1])*i)),r.push(-Math.cos(s[1])*i),(P=t).push.apply(P,Object(g.a)(x.normalize(r))),r[2]-=n/2,(T=e).push.apply(T,Object(g.a)(r)),r=[]}this.addGeometry(e,t,"fan")}}}]),a}(x),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this,arguments)).genGeometries(),e.mergeGeometries(),e}return Object(l.a)(a,[{key:"genGeometries",value:function(){for(var e=this.args[0],t=this.args[1],a=[0,0,1],s=[0,0,-1],i=0,n=0,r=[],h=[],c=[],l=[],o=[],u=0;u<this.levels;++u){var d,p,b,j;r.push(this.maxComplexity[0]+u*((this.minComplexity[0]-this.maxComplexity[0])/(this.levels-1))),r.push(this.maxComplexity[1]+u*((this.minComplexity[1]-this.maxComplexity[1])/(this.levels-1))),h.push(2*Math.PI/r[0]),h.push(Math.PI/(2*r[1]));for(var O=0;O<2*r[1];++O){i=e*Math.sin(O*h[1]),n=e*Math.sin((O+1)*h[1]);for(var m=0;m<r[0]+1;++m){var v,f,y,k;0==m||m==r[0]?(o.push(-i),o.push(0)):(o.push(-i*Math.cos(m*h[0])),o.push(-i*Math.sin(m*h[0]))),o.push(Math.cos(O*h[1])*e),(v=l).push.apply(v,Object(g.a)(x.normalize(o))),0==m||m==r[0]?o[0]-=t:(o[0]-=t*Math.cos(m*h[0]),o[1]-=t*Math.sin(m*h[0])),(f=c).push.apply(f,Object(g.a)(o)),o=[],0==m||m==r[0]?(o.push(-n),o.push(0)):(o.push(-n*Math.cos(m*h[0])),o.push(-n*Math.sin(m*h[0]))),o.push(Math.cos((O+1)*h[1])*e),(y=l).push.apply(y,Object(g.a)(x.normalize(o))),0==m||m==r[0]?o[0]-=t:(o[0]-=t*Math.cos(m*h[0]),o[1]-=t*Math.sin(m*h[0])),(k=c).push.apply(k,Object(g.a)(o)),o=[]}}this.addGeometry(c,l,"strip"),c=[],l=[],o.push(0),o.push(0),o.push(e),(d=l).push.apply(d,Object(g.a)(x.normalize(o))),(p=c).push.apply(p,Object(g.a)(o)),o=[];for(var w=0;w<r[0]+1;++w){var S,C;0==w||w==r[0]?(o.push(-t),o.push(0)):(o.push(-Math.cos(w*h[0])*t),o.push(-Math.sin(w*h[0])*t)),o.push(e),(S=l).push.apply(S,a),(C=c).push.apply(C,Object(g.a)(o)),o=[]}this.addGeometry(c,l,"fan"),c=[],l=[],o.push(0),o.push(0),o.push(-e),(b=l).push.apply(b,Object(g.a)(x.normalize(o))),(j=c).push.apply(j,Object(g.a)(o)),o=[];for(var M=r[0];M>=0;--M){var L,G;0==M||M==r[0]?(o.push(-t),o.push(0)):(o.push(-Math.cos(M*h[0])*t),o.push(-Math.sin(M*h[0])*t)),o.push(-e),(L=l).push.apply(L,s),(G=c).push.apply(G,Object(g.a)(o)),o=[]}this.addGeometry(c,l,"fan")}}}]),a}(x),k=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this,arguments)).genGeometries(),e.mergeGeometries(),e}return Object(l.a)(a,[{key:"genGeometries",value:function(){for(var e=this.args[0],t=this.args[1],a=[0,0,1],s=[0,0,-1],i=Math.acos(t/e),n=e*Math.sin(i),r=[],h=[],c=[],l=[],o=[],u=0;u<this.levels;++u){var d,p,b,j;r.push(this.maxComplexity[0]+u*((this.minComplexity[0]-this.maxComplexity[0])/(this.levels-1))),r.push(this.maxComplexity[1]+u*((this.minComplexity[1]-this.maxComplexity[1])/(this.levels-1))),h.push(2*Math.PI/r[0]),h.push((Math.PI-2*i)/(2*r[1]));for(var O=0;O<2*r[1];++O)for(var m=0;m<r[0]+1;++m){var v,f,y,k;0==m||m==r[0]?(o.push(-e*Math.sin(i+O*h[1])),o.push(0)):(o.push(-Math.cos(m*h[0])*e*Math.sin(i+O*h[1])),o.push(-Math.sin(m*h[0])*e*Math.sin(i+O*h[1]))),o.push(Math.cos(i+O*h[1])*e),(v=l).push.apply(v,Object(g.a)(x.normalize(o))),(f=c).push.apply(f,Object(g.a)(o)),o=[],0==m||m==r[0]?(o.push(-e*Math.sin(i+(O+1)*h[1])),o.push(0)):(o.push(-Math.cos(m*h[0])*e*Math.sin(i+(O+1)*h[1])),o.push(-Math.sin(m*h[0])*e*Math.sin(i+(O+1)*h[1]))),o.push(Math.cos(i+(O+1)*h[1])*e),(y=l).push.apply(y,Object(g.a)(x.normalize(o))),(k=c).push.apply(k,Object(g.a)(o)),o=[]}this.addGeometry(c,l,"strip"),c=[],l=[],o.push(0),o.push(0),o.push(t),(d=l).push.apply(d,Object(g.a)(x.normalize(o))),(p=c).push.apply(p,Object(g.a)(o)),o=[];for(var w=0;w<r[0]+1;++w){var S,C;0==w||w==r[0]?(o.push(-n),o.push(0)):(o.push(-Math.cos(w*h[0])*n),o.push(-Math.sin(w*h[0])*n)),o.push(t),(S=l).push.apply(S,a),(C=c).push.apply(C,Object(g.a)(o)),o=[]}this.addGeometry(c,l,"fan"),c=[],l=[],o.push(0),o.push(0),o.push(-t),(b=l).push.apply(b,Object(g.a)(x.normalize(o))),(j=c).push.apply(j,Object(g.a)(o)),o=[];for(var M=r[0];M>=0;--M){var L,G;0==M||M==r[0]?(o.push(-n),o.push(0)):(o.push(-Math.cos(M*h[0])*n),o.push(-Math.sin(M*h[0])*n)),o.push(-t),(L=l).push.apply(L,s),(G=c).push.apply(G,Object(g.a)(o)),o=[]}this.addGeometry(c,l,"fan")}}}]),a}(x),w=function(){function e(t,a,s){Object(c.a)(this,e),this.particles=[],this.meshes=[],this.Particle=function e(t){Object(c.a)(this,e),this.geometries=t},this.name=t,this.orientationType=a,this.setDefaults(),this.genParticles(s),this.genMeshes()}return Object(l.a)(e,[{key:"genMeshes",value:function(){var e,t,a=Object(b.a)(this.particles);try{for(a.s();!(t=a.n()).done;){var s,i=t.value,n=Object(b.a)(i.geometries);try{for(n.s();!(s=n.n()).done;){var r=s.value;e=new j.m(r,this.material),this.meshes.push(e)}}catch(h){n.e(h)}finally{n.f()}}}catch(h){a.e(h)}finally{a.f()}}},{key:"genParticles",value:function(e){var t,a,s,i,n,r,h=[],c=[],l=Object(b.a)(e);try{for(l.s();!(r=l.n()).done;){s=r.value.split(" ");var o,u=Object(b.a)(s);try{for(u.s();!(o=u.n()).done;){var d=o.value;c.push(parseFloat(d))}}catch(p){u.e(p)}finally{u.f()}if(s=c,c=[],console.log(s.length),7!=s.length)break;t=s.slice(0,3),a=s.slice(3),i=this.getRotations(this.orientationType,a),h.push(this.shape.stripGeometry.clone()),h.push(this.shape.fanGeometries[0].clone()),h.push(this.shape.fanGeometries[1].clone()),this.translate(t,h),this.rotate(i,h),n=new this.Particle(h),this.particles.push(n),h=[]}}catch(p){l.e(p)}finally{l.f()}}},{key:"setDefaults",value:function(){this.shapeType="ellipsoid",this.display="model",this.colour=16250871,this.material=new j.n({color:this.colour}),this.parameters=3,this.genGeometries()}},{key:"genGeometries",value:function(){switch(this.shapeType){case"ellipsoid":this.shape=new v(.5,.3,.7);break;case"spherocylinder":this.shape=new f(.5,8);break;case"spheroplatelet":this.shape=new y(.5,.7);break;case"cutsphere":this.shape=new k(this.parameters);break;case"sphere":this.shape=new k(this.parameters,this.parameters)}}},{key:"translate",value:function(e,t){var a,s=Object(b.a)(t);try{for(s.s();!(a=s.n()).done;){a.value.translate(e[0],e[1],e[2])}}catch(i){s.e(i)}finally{s.f()}}},{key:"rotate",value:function(e,t){var a,s=Object(b.a)(t);try{for(s.s();!(a=s.n()).done;){var i=a.value;i.rotateX(e.x),i.rotateY(e.y),i.rotateZ(e.z)}}catch(n){s.e(n)}finally{s.f()}}},{key:"getRotations",value:function(e,t){var a=new j.r,s=new j.e;switch(e){case"v":var i=new j.z(0,0,1);a.setFromUnitVectors(i,new j.z(t[0],t[1],t[2])),s.setFromQuaternion(a);break;case"q":a.fromArray(t),s.setFromQuaternion(a);break;case"a":a.setFromAxisAngle(new j.z(t[0],t[1],t[2]),t[3]),s.setFromQuaternion(a);break;case"e":s.fromArray(t)}return s}}]),e}(),S=function(){function e(t){Object(c.a)(this,e),this.setDefaultLights(t)}return Object(l.a)(e,[{key:"updatePosition",value:function(e,t,a){this.light.position.set(e,t,a)}},{key:"updateColour",value:function(e,t){this.light.color.setHex(parseInt(e.substring(1),16)),this.light.intensity=.01*t}},{key:"setDefaultLights",value:function(e){switch(e){case"ambient":this.light=new j.a("#0ff0ff",.4);break;case"directional":this.light=new j.d("#ffff00",.5);break;case"point":this.light=new j.q("#ffffff",.6),this.light.position.set(5,0,2)}}}]),e}();S.AMBIENT=0,S.DIRECTIONAL=1,S.POINT=2;var C=S,M=function(){function e(t,a){Object(c.a)(this,e),this.axes=[],this.size=t,this.colour=a,this.genAxes(),this.genSubgrid()}return Object(l.a)(e,[{key:"updateColour",value:function(e){this.colour=e,this.genAxes(),this.genSubgrid()}},{key:"updateSize",value:function(e){this.size=e,this.genAxes(),this.genSubgrid()}},{key:"genSubgrid",value:function(){this.subGrid=new j.g(this.size,this.size,this.colour,this.colour)}},{key:"genAxes",value:function(){this.axes=[];var e=new j.k({color:this.colour,linewidth:3}),t=this.size/2;this.axes.push(new j.j((new j.c).setFromPoints([new j.z(-t,0,0),new j.z(t,0,0)]),e)),this.axes.push(new j.j((new j.c).setFromPoints([new j.z(0,-t,0),new j.z(0,t,0)]),e)),this.axes.push(new j.j((new j.c).setFromPoints([new j.z(0,0,-t),new j.z(0,0,t)]),e))}}]),e}(),L=function(){function e(){Object(c.a)(this,e),this.configuration=[],this.gridEnabled=!1,this.axesEnabled=!1,this.sidebarExpanded=!1,this.cameraType="perspective",this.scene=new j.s,this.setDefault()}return Object(l.a)(e,[{key:"setDefault",value:function(){this.renderer=new j.A({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.lookAt=new j.z(0,0,0),this.updateDimensions(),this.setCamera(this.cameraType),this.lighting=[new C("ambient"),new C("directional"),new C("point")],this.grid=new M(50,16777215),this.bgColour="#000000",this.renderer.setClearColor(this.bgColour);var e,t=Object(b.a)(this.lighting);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.scene.add(a.light)}}catch(s){t.e(s)}finally{t.f()}this.scene.add(this.camera)}},{key:"update",value:function(){this.controls.update(),this.renderer.render(this.scene,this.camera)}},{key:"updateDimensions",value:function(){this.height=window.innerHeight-56,this.sidebarExpanded?this.width=window.innerWidth-356:this.width=window.innerWidth-56,this.renderer.setSize(this.width,this.height)}},{key:"setCamera",value:function(e){"perspective"==e?this.camera=new j.p(50,this.width/this.height,.1,1e3):(this.camera=new j.o(this.width/-2,this.width/2,this.height/2,this.height/-2,.1,1e3),this.camera.zoom=10,console.log(this.camera.zoom)),this.camera.position.z=30,this.controls=new O.a(this.camera,this.renderer.domElement),this.controls.target=this.lookAt}},{key:"updateCamera",value:function(){"perspective"==this.cameraType?this.camera.aspect=this.width/this.height:(this.camera.left=this.width/-2,this.camera.right=this.width/2,this.camera.top=this.height/2,this.camera.bottom=this.height/2),this.camera.updateProjectionMatrix()}},{key:"updateLookAt",value:function(e){this.lookAt=new j.z(e.x,e.y,e.z),this.controls.target=this.lookAt,this.controls.update()}},{key:"toggleSidebar",value:function(){this.sidebarExpanded=!this.sidebarExpanded,this.updateDimensions()}},{key:"updateBg",value:function(e){this.bgColour=this.rgbToHex(e.r,e.g,e.b),this.renderer.setClearColor(this.bgColour)}},{key:"toggleLight",value:function(e,t){this.lighting[e].visible=t}},{key:"updateLight",value:function(e,t){this.lighting[e].updateColour(this.rgbToHex(t.r,t.g,t.b),t.i)}},{key:"updateLightPosition",value:function(e,t){this.lighting[e].updatePosition(t.x,t.y,t.z)}},{key:"updateGridColour",value:function(e){var t=!1,a=!1;this.gridEnabled&&(this.toggleGrid(),t=!0),this.axesEnabled&&(this.toggleAxes(),a=!0);var s=this.rgbToHex(e.r,e.g,e.b);this.grid.updateColour(s),t&&this.toggleGrid(),a&&this.toggleAxes()}},{key:"updateGridSize",value:function(e){var t=!1,a=!1;this.gridEnabled&&(this.toggleGrid(),t=!0),this.axesEnabled&&(this.toggleAxes(),a=!0),this.grid.updateSize(e),t&&this.toggleGrid(),a&&this.toggleAxes()}},{key:"toggleGrid",value:function(){this.gridEnabled=!this.gridEnabled,this.gridEnabled?this.scene.add(this.grid.subGrid):this.scene.remove(this.grid.subGrid)}},{key:"toggleAxes",value:function(){if(this.axesEnabled=!this.axesEnabled,this.axesEnabled){var e,t=Object(b.a)(this.grid.axes);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.scene.add(a)}}catch(r){t.e(r)}finally{t.f()}}else{var s,i=Object(b.a)(this.grid.axes);try{for(i.s();!(s=i.n()).done;){var n=s.value;this.scene.remove(n)}}catch(r){i.e(r)}finally{i.f()}}}},{key:"toggleCameraRotation",value:function(){this.controls.autoRotate=!this.controls.autoRotate}},{key:"rgbToHex",value:function(e,t,a){function s(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+s(e)+s(t)+s(a)}},{key:"load",value:function(e){var t,a,s,i=e.split("$"),n=Object(b.a)(i);try{for(n.s();!(s=n.n()).done;){var r=s.value;if(""==r)return;t=r.split("\n"),a=new w(t[0],t[1],t.slice(2)),this.configuration.push(a)}}catch(h){n.e(h)}finally{n.f()}this.setConfiguration()}},{key:"setConfiguration",value:function(){var e,t=Object(b.a)(this.configuration);try{for(t.s();!(e=t.n()).done;){var a,s=e.value,i=Object(b.a)(s.meshes);try{for(i.s();!(a=i.n()).done;){var n=a.value;this.scene.add(n)}}catch(r){i.e(r)}finally{i.f()}}}catch(r){t.e(r)}finally{t.f()}}}]),e}(),G=a(41),z=a(372),A=a(365),E=a(366),D=a(377),I=a(375),P=a(34),T=a(378),V=a(368),B=a(373),R=a(379),F=a(46),N=function(e){var t=Object.assign({},e);return Object(s.jsxs)(z.a,Object(G.a)(Object(G.a)({},t),{},{children:[Object(s.jsxs)(A.a,{controlId:"radioList",children:[Object(s.jsx)(z.a.Item,{children:"Export as..."}),Object(s.jsx)(z.a.Item,{divider:!0}),Object(s.jsxs)(E.a,{name:"radioList",children:[Object(s.jsx)(D.a,{value:"A",children:"Change "}),Object(s.jsx)(D.a,{value:"B",children:"Rectangle"})]}),Object(s.jsx)(z.a.Item,{panel:!0,style:{padding:5,width:140}}),Object(s.jsx)(z.a.Item,{children:"File Type"}),Object(s.jsx)(z.a.Item,{divider:!0}),Object(s.jsxs)(E.a,{name:"radioList",children:[Object(s.jsx)(D.a,{value:"A",children:"PNG"}),Object(s.jsx)(D.a,{value:"B",children:"JPG"})]}),Object(s.jsx)(z.a.Item,{panel:!0,style:{padding:5,width:140}})]}),Object(s.jsx)(I.a,{justify:"center",children:Object(s.jsx)(P.a,{appearance:"primary",children:" Export "})}),Object(s.jsx)(z.a.Item,{panel:!0,style:{padding:5,width:140}})]}))},H=function(e){var t=Object.assign({},e);return Object(s.jsxs)(z.a,Object(G.a)(Object(G.a)({},t),{},{children:[Object(s.jsx)(z.a.Item,{children:"File Type"}),Object(s.jsx)(z.a.Item,{divider:!0}),Object(s.jsx)(z.a.Item,{children:"Sample 1"}),Object(s.jsx)(z.a.Item,{children:"Sample 2"}),Object(s.jsx)(z.a.Item,{children:"Sample 3"}),Object(s.jsx)(z.a.Item,{children:"Sample 4"}),Object(s.jsx)(z.a.Item,{panel:!0,style:{padding:5,width:140}}),Object(s.jsx)(I.a,{justify:"center",children:Object(s.jsx)(P.a,{appearance:"primary",children:" Randomize "})}),Object(s.jsx)(z.a.Item,{panel:!0,style:{padding:5,width:140}})]}))},K=function(e){var t=Object.assign({},e);return Object(s.jsx)(T.a,{style:{height:56},children:Object(s.jsx)(V.a,{children:Object(s.jsxs)(V.a.Body,{children:[Object(s.jsx)(B.a,{pullRight:!0,children:Object(s.jsxs)(R.a,{children:[Object(s.jsxs)(B.a.Item,{active:!0,children:["fps ",t.fps]}),Object(s.jsx)(B.a.Item,{appearance:"subtle",icon:Object(s.jsx)(F.a,{icon:"keyboard-o"}),children:"Reference"}),Object(s.jsx)(B.a.Item,{appearance:"subtle",icon:Object(s.jsx)(F.a,{icon:"question"}),children:"Manual"}),Object(s.jsx)(H,{title:"Samples",trigger:"click",placement:"bottomEnd",icon:Object(s.jsx)(F.a,{icon:"folder-o"})}),Object(s.jsx)(N,{title:"Export",trigger:"click",placement:"bottomEnd",icon:Object(s.jsx)(F.a,{icon:"export"})}),Object(s.jsx)(B.a.Item,{appearance:"subtle",icon:Object(s.jsx)(F.a,{icon:"file-download"}),children:"Save"}),Object(s.jsx)(B.a.Item,{icon:Object(s.jsx)(F.a,{icon:"file-upload"}),children:"Upload"})]})}),Object(s.jsx)(B.a,{pullLeft:!0,children:Object(s.jsx)("h6",{style:{padding:20},children:" WebMGA"})})]})})})},Y=a(17),q=a(188),X=a(192),W=a(389),Z=a(96),J=a(387),Q=a(381),U=a(382),$=a(376),_=a(388),ee=a(385),te=a(386),ae=a(186),se=a(370),ie=a(47),ne=a(380),re=a(369),he=a(383),ce=(a(384),a(374),function(e){for(var t,a=[],i=0;i<e.titles.length;i++)t=e.values?e.values[i]:0,a.push(Object(s.jsx)(le,{title:e.titles[i],values:t,numerical:!0,f:e.f,index:i}));return a}),le=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this)).active=e.active,s.f=e.f,s.title=e.title,s.values=e.values,s.numerical=e.numerical,s.index=e.index,s.state={value:0},s.changeValue=s.changeValue.bind(Object(Y.a)(s)),s}return Object(l.a)(a,[{key:"changeValue",value:function(e){this.f(e,this.index)}},{key:"render",value:function(){var e;if(this.numerical){var t=this.values;e=Object(s.jsx)("div",{style:{width:140},children:Object(s.jsx)(ne.a,{defaultValue:t,step:.1,onChange:this.changeValue})})}else{var a,i,n=this.values,r=this.active,h=[],c=Object(b.a)(n);try{for(c.s();!(i=c.n()).done;){var l=i.value;a=!r.localeCompare(l),h.push(Object(s.jsx)(z.a.Item,{active:a,children:l}))}}catch(o){c.e(o)}finally{c.f()}h.push(Object(s.jsx)(z.a.Item,{panel:!0,style:{width:150}})),e=Object(s.jsx)(R.a,{style:{width:120},children:Object(s.jsx)(z.a,{style:{width:200},title:this.active,children:h})})}return Object(s.jsx)("div",{children:Object(s.jsxs)(Q.a,{style:{marginTop:15},children:[Object(s.jsx)(U.a,{md:10,children:Object(s.jsx)("p",{style:{marginTop:10,marginLeft:30},children:this.title})}),Object(s.jsx)(U.a,{md:8}),Object(s.jsx)(U.a,{md:10,children:e})]})})}}]),a}(n.a.Component),oe=function(e){var t=n.a.useState([-50,50]),a=Object(ie.a)(t,2),i=a[0],r=a[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)(Q.a,{children:[Object(s.jsx)(U.a,{md:5,children:Object(s.jsx)("p",{style:{marginTop:10,marginLeft:30},children:e.title})}),Object(s.jsx)(U.a,{md:1}),Object(s.jsx)(U.a,{md:16,children:Object(s.jsxs)(re.a,{children:[Object(s.jsx)(ne.a,{min:-50,max:50,value:i[0],onChange:function(e){var t=Object(ie.a)(i,2),a=(t[0],t[1]);e>a||r([e,a])}}),Object(s.jsx)(re.a.Addon,{children:"to"}),Object(s.jsx)(ne.a,{min:-50,max:50,value:i[1],onChange:function(e){var t=Object(ie.a)(i,2),a=t[0];t[1];a>e||r([a,e])}})]})})]}),Object(s.jsx)(Q.a,{children:Object(s.jsx)(U.a,{md:21,children:Object(s.jsx)(he.a,{min:-50,max:50,progress:!0,style:{marginLeft:35,marginTop:30},value:i,onChange:function(e){r(e)}})})})]})},ue=function(e){var t,a=e.f,n=Object(i.useState)(e.val),r=Object(ie.a)(n,2),h=r[0],c=r[1],l=Object(i.useState)(!1),o=Object(ie.a)(l,2),u=o[0];o[1];t=null==e.type?null:e.type,u=e.disabled;var d=Object(ie.a)(e.boundaries,2),p=d[0],b=d[1];return Object(s.jsxs)(Q.a,{children:[Object(s.jsx)(U.a,{md:10,children:Object(s.jsx)(se.a,{style:{marginLeft:25,marginTop:16,width:170},value:h,min:p,max:b,disabled:u,onChange:function(e){c(e),a(e,t)}})}),Object(s.jsx)(U.a,{md:4,children:Object(s.jsx)(ne.a,{style:{marginLeft:80,marginTop:3,marginBottom:3,width:70,height:35},min:p,max:b,value:h,disabled:u,onChange:function(t){c(t),a(t,e.type)}})})]})},de=30,pe={color:"#A4A9A3"},be=Object(s.jsx)(Z.a,{children:"Decreasing LOD will increase rendering speed."}),je=function(e){Object.assign({},e);return Object(s.jsxs)("div",{children:[Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:" Configuration"})}),Object(s.jsx)(le,{title:"Set",values:["Set A","Set B","Set C","Set D"],active:"Set C"}),Object(s.jsx)(le,{title:"Shape",values:["Ellipsoid","Sphere","Spherocylinder","Spheroplatelet","Cut Sphere","Cone","Cylinder"],active:"Spheroplatelet"}),Object(s.jsx)(le,{title:"Material",values:["Basic","Lambert","Phong","Matcap"],active:"Lambert"}),Object(s.jsx)(le,{title:"Display As",values:["Figure","Line","Wireframe"],active:"Figure"}),Object(s.jsx)("br",{}),Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:"  Parameters "})}),Object(s.jsx)(ce,{titles:["Radius","Length"],values:[4,3]}),Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:"  Colour "})}),Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:1}),Object(s.jsxs)(U.a,{xs:20,children:[Object(s.jsx)($.a,{children:" Set from Director "}),Object(s.jsx)("br",{})]})]}),Object(s.jsx)("p",{style:{marginLeft:de},children:" RGB "}),Object(s.jsx)(ue,{disabled:!1,boundaries:[1,256],val:20}),Object(s.jsx)(ue,{disabled:!1,boundaries:[1,256],val:40}),Object(s.jsx)(ue,{disabled:!1,boundaries:[1,256],val:90})]})},Oe=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this)).state=Le.ViewOptionsState,s.model=e.model,s.toggleAutorotate=s.toggleAutorotate.bind(Object(Y.a)(s)),s.selectCameraType=s.selectCameraType.bind(Object(Y.a)(s)),s.updateLOD=s.updateLOD.bind(Object(Y.a)(s)),s.updateLookat=s.updateLookat.bind(Object(Y.a)(s)),s}return Object(l.a)(a,[{key:"toggleAutorotate",value:function(){this.setState({rotating:!this.state.rotating}),Le.ViewOptionsState.rotating=!Le.ViewOptionsState.rotating,this.model.toggleCameraRotation()}},{key:"selectCameraType",value:function(e){this.setState({type:e}),Le.ViewOptionsState.cameraType=e,this.model.setCamera(e)}},{key:"updateLOD",value:function(e){this.setState({LOD:e}),Le.ViewOptionsState.LOD=e}},{key:"updateLookat",value:function(e,t){var a=this.state.lookAt;switch(t){case 0:a.x=parseFloat(e);break;case 1:a.y=parseFloat(e);break;case 2:a.z=parseFloat(e)}console.log(a),this.model.updateLookAt(a),Le.ViewOptionsState.lookAt=a}},{key:"render",value:function(){var e=this.state.type,t=this.state.rotating;this.state.antialiasing;return Object(s.jsxs)("div",{children:[Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:" Camera "})}),Object(s.jsxs)(_.a,{fluid:!0,children:[Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:1}),Object(s.jsx)(U.a,{xs:12,children:Object(s.jsx)($.a,{checked:t,onClick:this.toggleAutorotate,children:" AutoRotate"})})]}),Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:2}),Object(s.jsx)(U.a,{xs:12,children:Object(s.jsx)(A.a,{controlId:"radioList",children:Object(s.jsxs)(E.a,{name:"radioList",value:e,onChange:this.selectCameraType,children:[Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"Type"}),Object(s.jsx)(D.a,{defaultChecked:!0,value:"perspective",children:"Perspective "}),Object(s.jsx)(D.a,{value:"orthographic",children:"Orthographic "})]})})})]}),Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:2}),Object(s.jsxs)(U.a,{xs:12,children:[Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:" Look at"})]})]})]}),Object(s.jsx)(ce,{titles:["X position","Y position","Z position"],f:this.updateLookat}),Object(s.jsx)("br",{}),Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:" Perfomance Tuning "})}),Object(s.jsx)(ee.a,{style:{marginLeft:de},layout:"inline",children:Object(s.jsxs)(A.a,{children:[Object(s.jsx)(te.a,{children:"Level of Detail"}),Object(s.jsx)(ae.a,{placement:"top",trigger:"hover",speaker:be,children:Object(s.jsx)(F.a,{circle:!0,icon:"question-circle",size:"md",style:{marginTop:12}})})]})}),Object(s.jsx)(se.a,{min:1,step:1,max:5,defaultValue:4,graduated:!0,progress:!0,style:{width:220,marginLeft:40},onChange:this.updateLOD,renderMark:function(e){return e}})]})}}]),a}(n.a.Component),ge=function(e){Object.assign({},e);return Object(s.jsxs)("div",{children:[Object(s.jsx)(oe,{title:"X : "}),Object(s.jsx)(oe,{title:"Y : "}),Object(s.jsx)(oe,{title:"Z : "})]})},me=function(e){var t=e.active,a=e.onSelect;return Object(s.jsxs)(B.a,{activeKey:t,onSelect:a,style:{margin:10,width:280},justified:!0,appearance:"tabs",children:[Object(s.jsx)(B.a.Item,{eventKey:"point",children:"Point"}),Object(s.jsx)(B.a.Item,{eventKey:"directional",children:"Directional"})]})},xe=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this)).state=Le.PointLightState,s.model=e.model,s.reset=0,s.handleSelect=s.handleSelect.bind(Object(Y.a)(s)),s.updateColour=s.updateColour.bind(Object(Y.a)(s)),s.updatePosition=s.updatePosition.bind(Object(Y.a)(s)),s.toggleLightEnabled=s.toggleLightEnabled.bind(Object(Y.a)(s)),s}return Object(l.a)(a,[{key:"handleSelect",value:function(){0==this.state.active.localeCompare("point")?this.setState(Le.DirectionalLightState):this.setState(Le.PointLightState),this.reset>5&&(this.reset=0),this.setState({reset:++this.reset})}},{key:"toggleLightEnabled",value:function(){var e,t=!this.state.enabled;this.setState({enabled:t}),0==this.state.active.localeCompare("point")?(Le.PointLightState.enabled=t,e=Le.PointLightState.colour.i):(Le.DirectionalLightState.enabled=t,e=Le.DirectionalLightState.colour.i),t?this.updateColour(e,"i"):this.updateColour(0,"i"),this.setState({reset:++this.reset})}},{key:"updateColour",value:function(e,t){var a=this.state.colour;switch(t){case"r":a.r=e;break;case"g":a.g=e;break;case"b":a.b=e;break;case"i":a.i=e}0==this.state.active.localeCompare("point")?(this.model.updateLight(2,a),Le.PointLightState.colour=a):(this.model.updateLight(1,a),Le.DirectionalLightState.colour=a)}},{key:"updatePosition",value:function(e,t){var a=this.state.position;switch(t){case"x":a.x=e;break;case"y":a.y=e;break;case"z":a.z=e}0==this.state.active.localeCompare("point")?(this.model.updateLightPosition(2,a),Le.PointLightState.position=a):(this.model.updateLightPosition(1,a),Le.DirectionalLightState.position=a)}},{key:"render",value:function(){var e=this.state.active,t=this.state;return Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)(me,{active:e,onSelect:this.handleSelect}),Object(s.jsx)("br",{}),Object(s.jsx)(_.a,{fluid:!0,children:Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:1}),Object(s.jsxs)(U.a,{xs:12,children:[Object(s.jsxs)($.a,{checked:t.enabled,onClick:this.toggleLightEnabled,children:[" ",Object(s.jsx)("strong",{children:"Enabled "})," "]}),Object(s.jsx)("br",{})]})]})}),Object(s.jsx)("p",{style:{marginLeft:de},children:" RGB "}),Object(s.jsx)(ue,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.r,f:this.updateColour,type:"r"}),Object(s.jsx)(ue,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.g,f:this.updateColour,type:"g"}),Object(s.jsx)(ue,{disabled:!t.enabled,boundaries:[0,255],val:t.colour.b,f:this.updateColour,type:"b"}),Object(s.jsx)("p",{style:{marginLeft:de},children:" Intensity "}),Object(s.jsx)(ue,{disabled:!t.enabled,boundaries:[0,100],val:t.colour.i,f:this.updateColour,type:"i"}),Object(s.jsx)("p",{style:{marginLeft:de},children:" Position XYZ "}),Object(s.jsx)(ue,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.x,f:this.updatePosition,type:"x"}),Object(s.jsx)(ue,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.y,f:this.updatePosition,type:"y"}),Object(s.jsx)(ue,{disabled:!t.enabled,boundaries:[-50,50],val:t.position.z,f:this.updatePosition,type:"z"})]},t.reset)}}]),a}(n.a.Component),ve=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this)).state=Le.AmbientLightState,s.model=e.model,s.updateAmbientLightColour=s.updateAmbientLightColour.bind(Object(Y.a)(s)),s.updateBackgroundColour=s.updateBackgroundColour.bind(Object(Y.a)(s)),s}return Object(l.a)(a,[{key:"updateAmbientLightColour",value:function(e,t){var a=this.state.ambientLightColour;switch(t){case"r":a.r=e;break;case"g":a.g=e;break;case"b":a.b=e;break;case"i":a.i=e}this.model.updateLight(0,a),Le.AmbientLightState.ambientLightColour=a}},{key:"updateBackgroundColour",value:function(e,t){var a=this.state.backgroundColour;switch(t){case"r":a.r=e;break;case"g":a.g=e;break;case"b":a.b=e}this.model.updateBg(a),Le.AmbientLightState.backgroundColour=a}},{key:"render",value:function(){var e=this.state.ambientLightColour,t=this.state.backgroundColour;return Object(s.jsxs)("div",{children:[Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:" Ambient Light "})}),Object(s.jsx)("p",{style:{marginLeft:de},children:" RGB "}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:e.r,f:this.updateAmbientLightColour,type:"r"}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:e.g,f:this.updateAmbientLightColour,type:"g"}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:e.b,f:this.updateAmbientLightColour,type:"b"}),Object(s.jsx)("p",{style:{marginLeft:de},children:" Intensity "}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,100],val:e.i,f:this.updateAmbientLightColour,type:"i"}),Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:" Background Colour"})}),Object(s.jsx)("p",{style:{marginLeft:de},children:" RGB "}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:t.r,f:this.updateBackgroundColour,type:"r"}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:t.g,f:this.updateBackgroundColour,type:"g"}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:t.b,f:this.updateBackgroundColour,type:"b"})]})}}]),a}(n.a.Component),fe=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this)).state=Le.VisualElementsState,s.model=e.model,s.toggleBoundingShapeEnabled=s.toggleBoundingShapeEnabled.bind(Object(Y.a)(s)),s.selectShape=s.selectShape.bind(Object(Y.a)(s)),s.toggleAxes=s.toggleAxes.bind(Object(Y.a)(s)),s.toggleGrid=s.toggleGrid.bind(Object(Y.a)(s)),s.updateGridColour=s.updateGridColour.bind(Object(Y.a)(s)),s.updateGridSize=s.updateGridSize.bind(Object(Y.a)(s)),s}return Object(l.a)(a,[{key:"updateGridColour",value:function(e,t){var a=this.state.gridColour;switch(t){case"r":a.r=e;break;case"g":a.g=e;break;case"b":a.b=e}this.model.updateGridColour(a),Le.VisualElementsState.gridColour=a}},{key:"updateGridSize",value:function(e){this.model.updateGridSize(e),Le.VisualElementsState.size=e}},{key:"toggleBoundingShapeEnabled",value:function(){this.setState({boundingShapeEnabled:!this.state.boundingShapeEnabled}),Le.VisualElementsState.boundingShapeEnabled=!Le.VisualElementsState.boundingShapeEnabled}},{key:"selectShape",value:function(e){this.setState({activeShape:e}),Le.VisualElementsState.activeShape=e}},{key:"toggleAxes",value:function(){this.setState({showAxes:!this.state.showAxes}),this.model.toggleAxes(),Le.VisualElementsState.showAxes=!Le.VisualElementsState.showAxes}},{key:"toggleGrid",value:function(){this.setState({showGrid:!this.state.showGrid}),this.model.toggleGrid(),Le.VisualElementsState.showGrid=!Le.VisualElementsState.showGrid}},{key:"render",value:function(){var e=this.state.boundingShapeEnabled,t=this.state.activeShape,a=this.state.showAxes,i=this.state.showGrid,n=this.state.gridColour,r=this.state.size;return Object(s.jsxs)("div",{children:[Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:" Bounding Shape "})}),Object(s.jsxs)(_.a,{fluid:!0,children:[Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:1}),Object(s.jsxs)(U.a,{xs:12,children:[Object(s.jsx)($.a,{checked:e,onClick:this.toggleBoundingShapeEnabled,children:" Enabled "}),Object(s.jsx)("br",{})]})]}),Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:2}),Object(s.jsxs)(U.a,{xs:12,children:[Object(s.jsx)(A.a,{controlId:"radioList",children:Object(s.jsxs)(E.a,{name:"radioList",value:t,onChange:this.selectShape,children:[Object(s.jsx)("p",{children:"Shapes"}),Object(s.jsx)(D.a,{disabled:!e,value:"box",children:"Box "}),Object(s.jsx)(D.a,{disabled:!e,value:"sphere",children:"Sphere "}),Object(s.jsx)(D.a,{disabled:!e,value:"cylinder",children:"Cylinder "})]})}),Object(s.jsx)("br",{})]})]})]}),Object(s.jsx)("p",{style:{marginLeft:de},children:" PRINT SHAPE INFO HERE"}),Object(s.jsx)(J.a,{children:Object(s.jsx)("strong",{style:pe,children:" Grid "})}),Object(s.jsx)(_.a,{fluid:!0,children:Object(s.jsxs)(Q.a,{className:"show-grid",children:[Object(s.jsx)(U.a,{xs:1}),Object(s.jsxs)(U.a,{xs:12,children:[Object(s.jsx)($.a,{checked:a,onClick:this.toggleAxes,children:" Show Axes"}),Object(s.jsx)($.a,{checked:i,onClick:this.toggleGrid,children:" Show Grid"})]})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{style:{marginLeft:de},children:" RGB "}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:n.r,f:this.updateGridColour,type:"r"}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:n.g,f:this.updateGridColour,type:"g"}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,255],val:n.b,f:this.updateGridColour,type:"b"}),Object(s.jsx)("p",{style:{marginLeft:de},children:" Size "}),Object(s.jsx)(ue,{disabled:!1,boundaries:[0,100],val:r,f:this.updateGridSize}),Object(s.jsx)("br",{})]})}}]),a}(n.a.Component),ye=function(e){var t=e.expand,a=e.onChange;return Object(s.jsx)(V.a,{appearance:"subtle",className:"nav-toggle",children:Object(s.jsx)(V.a.Body,{children:Object(s.jsx)(B.a,{pullRight:!0,children:Object(s.jsx)(X.a,{circle:!0,style:{textAlign:"center",margin:10},onClick:a,appearance:"default",icon:Object(s.jsx)(F.a,{icon:t?"angle-left":"angle-right"})})})})})},ke={margin:6.5},we=window.innerHeight-56,Se=function(e){var t=e.active,a=e.onSelect,i=Object(q.a)(e,["active","onSelect"]);return Object(s.jsx)("div",{children:Object(s.jsxs)(B.a,Object(G.a)(Object(G.a)({},i),{},{activeKey:t,onSelect:a,style:{backgroundColor:"#101010",height:we},children:[Object(s.jsx)(B.a.Item,{title:"Models",tooltip:!0,eventKey:"Models",icon:Object(s.jsx)(F.a,{style:ke,size:"lg",icon:"shapes"})}),Object(s.jsx)(B.a.Item,{eventKey:"View",icon:Object(s.jsx)(F.a,{style:ke,size:"lg",icon:"eye"})}),Object(s.jsx)(B.a.Item,{eventKey:"Ambient Light",icon:Object(s.jsx)(F.a,{style:ke,size:"lg",icon:"sun-o"})}),Object(s.jsx)(B.a.Item,{eventKey:"Other Lighting",icon:Object(s.jsx)(F.a,{style:ke,size:"lg",icon:"creative"})}),Object(s.jsx)(B.a.Item,{eventKey:"Slicing",icon:Object(s.jsx)(F.a,{style:ke,size:"lg",icon:"cut"})}),Object(s.jsx)(B.a.Item,{eventKey:"Visual Elements",icon:Object(s.jsx)(F.a,{style:ke,size:"lg",icon:"cube"})})]}))})},Ce=function(e){var t=e.active,a=e.expand,i=e.onChange,n=e.model,r=[];if(a?r.push(Object(s.jsx)("div",{style:{backgroundColor:"#0F131B"},children:Object(s.jsx)(B.a,{children:Object(s.jsxs)(V.a,{appearance:"subtle",children:[Object(s.jsx)(B.a,{pullLeft:!0,children:Object(s.jsx)("h3",{style:{marginTop:15,marginLeft:30},children:t})}),Object(s.jsx)(B.a,{pullRight:!0,children:Object(s.jsx)(ye,{expand:a,onChange:i})})]})})})):r.push(Object(s.jsx)(ye,{expand:a,onChange:i})),a)switch(t){case"Models":r.push(Object(s.jsx)(je,{model:n}));break;case"View":r.push(Object(s.jsx)(Oe,{model:n}));break;case"Ambient Light":r.push(Object(s.jsx)(ve,{model:n}));break;case"Other Lighting":r.push(Object(s.jsx)(xe,{model:n}));break;case"Slicing":r.push(Object(s.jsx)(ge,{model:n}));break;case"Visual Elements":r.push(Object(s.jsx)(fe,{model:n}))}return r},Me=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={expand:e.sidebarExpanded,active:"Models"},s.model=e.model,s.handleToggle=s.handleToggle.bind(Object(Y.a)(s)),s.handleSelect=s.handleSelect.bind(Object(Y.a)(s)),s}return Object(l.a)(a,[{key:"handleToggle",value:function(){this.setState({expand:!this.state.expand}),this.model.toggleSidebar()}},{key:"handleSelect",value:function(e){this.setState({active:e}),this.state.expand||this.handleToggle()}},{key:"render",value:function(){var e=this.state.expand,t=this.state.active;return Object(s.jsx)("div",{children:Object(s.jsx)(W.a,{style:{display:"flex",flexDirection:"column"},width:e?356:56,collapsible:!0,appearance:"default",children:Object(s.jsxs)(d.a,{children:[Object(s.jsx)(W.a,{width:56,children:Object(s.jsx)(Se,{vertical:!0,appearance:"subtle",active:t,onSelect:this.handleSelect})}),Object(s.jsx)(p.a,{children:Object(s.jsx)(Ce,{active:t,expand:e,onChange:this.handleToggle,model:this.model})})]})})})}}]),a}(i.Component),Le=function e(t){Object(c.a)(this,e),this.ModelDefaultState={fun:"no"},this.ViewOptionsDefaultState={rotating:!1,type:"perspective",lookAt:{x:0,y:0,z:0},LOD:4},this.PointLightDefaultState={reset:0,active:"point",enabled:!0,colour:{r:255,g:255,b:255,i:100},position:{x:0,y:0,z:0}},this.DirectionalLightDefaultState={reset:0,active:"directional",enabled:!1,colour:{r:70,g:80,b:90,i:100},position:{x:0,y:0,z:0}},this.VisualElementsDefaultState={boundingShapeEnabled:!1,activeShape:"box",showAxes:!1,showGrid:!1,gridColour:{r:50,g:90,b:90},size:50},this.AmbientLightDefaultState={ambientLightColour:{r:50,g:50,b:50,i:90},backgroundColour:{r:0,g:0,b:0}},this.model=t,this.header=Object(s.jsx)(K,{fps:60}),this.sidebar=Object(s.jsx)(Me,{model:this.model}),e.VisualElementsState=this.VisualElementsDefaultState,e.AmbientLightState=this.AmbientLightDefaultState,e.PointLightState=this.PointLightDefaultState,e.DirectionalLightState=this.DirectionalLightDefaultState,e.ViewOptionsState=this.ViewOptionsDefaultState},Ge=a.p+"static/media/sample1.f5b826bb.txt",ze=function e(){var t=this;Object(c.a)(this,e),this.start=function(){t.addListeners(),t.loadSample(),t.render()},this.getHeader=function(){return t.view.header},this.getSiderbar=function(){return t.view.sidebar},this.getDomElement=function(){return t.model.renderer.domElement},this.render=function(){t.model.update(),requestAnimationFrame(t.render)},this.loadSample=function(){fetch(Ge).then((function(e){return e.text()})).then((function(e){t.model.load(e)}))},this.addListeners=function(){document.body.style.overflow="hidden",window.addEventListener("resize",(function(){t.model.updateDimensions(),t.model.updateCamera()})),document.addEventListener("fullscreenchange",(function(){t.model.updateDimensions(),t.model.updateCamera()})),document.body.onkeydown=function(e){var a=e.keyCode;32==a&&t.model.toggleCameraRotation(),65==a&&t.model.toggleAxes(),71==a&&t.model.toggleGrid(),69==a&&t.view.toggleSidebar()}},this.model=new L,this.view=new Le(this.model)},Ae=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).controller=new ze,s.state={header:s.controller.getHeader(),sidebar:s.controller.getSiderbar()},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.mount.appendChild(this.controller.getDomElement()),this.controller.start()}},{key:"render",value:function(){var e=this,t=this.state.header,a=this.state.sidebar;return Object(s.jsx)("div",{children:Object(s.jsxs)(d.a,{children:[t,Object(s.jsxs)(d.a,{children:[a,Object(s.jsx)(p.a,{children:Object(s.jsx)("div",{ref:function(t){return e.mount=t}})})]})]})})}}]),a}(i.Component);h.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(Ae,{})}),document.getElementById("root"))}},[[361,1,2]]]);
//# sourceMappingURL=main.34aee2a9.chunk.js.map